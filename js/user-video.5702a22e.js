(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-video"],{"2bc5":function(e,t,s){"use strict";s("a15b");var i=s("5530"),r=(s("abd3"),s("f625")),o=s("80d2"),a=Object(o["i"])("v-breadcrumbs__divider","li"),n=s("7560"),c=s("58df");t["a"]=Object(c["a"])(n["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(a,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,s=[],i=0;i<this.items.length;i++){var o=this.items[i];s.push(o.text),t?e.push(this.$scopedSlots.item({item:o})):e.push(this.$createElement(r["a"],{key:s.join("."),props:o},[o.text])),i<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"3c83":function(e,t,s){},"5fe9":function(e,t,s){e.exports=s.p+"img/pdf.3fa92281.svg"},"67bf":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-img",{attrs:{src:e.imgUrl,height:e.height},on:{error:e.onError}})],1)},r=[],o={props:["url","height"],data:function(){return{error:!1,coverImageSrc:s("7e1a")}},computed:{imgUrl:function(){return this.error?this.coverImageSrc:this.url}},watch:{url:function(e){e&&(this.error=!1)}},methods:{onError:function(){this.error=!0}}},a=o,n=s("2877"),c=s("6544"),d=s.n(c),u=s("adda"),l=Object(n["a"])(a,i,r,!1,null,null,null);t["a"]=l.exports;d()(l,{VImg:u["a"]})},7388:function(e,t,s){"use strict";s("a0d0")},"9af2":function(e,t,s){"use strict";s("ec5b")},a0d0:function(e,t,s){},abd3:function(e,t,s){},ec5b:function(e,t,s){},f625:function(e,t,s){"use strict";var i=s("5530"),r=s("ade3"),o=s("1c87"),a=s("58df");t["a"]=Object(a["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),s=t.tag,r=t.data;return e("li",[e(s,Object(i["a"])(Object(i["a"])({},r),{},{attrs:Object(i["a"])(Object(i["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})},fc48:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("v-breadcrumbs-item",{attrs:{disabled:i.disabled}},[s("router-link",{class:{"disabled-link":i.disabled},attrs:{to:i.href}},[e._v(" "+e._s(i.text.toUpperCase()))])],1)]}}])})],1),s("v-col",{attrs:{cols:"12",xs:"12"}},[e.loading?s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):e._e()],1),!e.loading&&e.video?s("v-col",{staticClass:"player-container",attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("vue-core-video-player",{attrs:{src:e.video.link}})],1):e._e(),!e.loading&&e.video?s("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("v-card-title",[e._v(e._s(e.video.description))])],1):e._e(),!e.loading&&e.video?s("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("CoverImage",{attrs:{url:e.checkUrl,height:500}}),s("v-card",{staticClass:"d-flex justify-center mt-16",attrs:{flat:""}},[s("VideoPdfs",{attrs:{currentCourseId:e.currentCourseId,videoId:e.videoId,user:e.user}})],1)],1):e._e(),e.showForm?e._e():s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){e.showForm=!0}}},[e._v(" Edit ")])],1),e.showForm?s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"name of video",outlined:""},model:{value:e.nameOfVideo,callback:function(t){e.nameOfVideo=t},expression:"nameOfVideo"}}),s("v-textarea",{attrs:{label:"description",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-file-input",{attrs:{label:"add cover image ",outlined:""},model:{value:e.imgFile,callback:function(t){e.imgFile=t},expression:"imgFile"}})],1),s("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center"},[s("v-btn",{staticClass:"yellow-button  my-8 my-sm-0 mr-sm-4",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.closeForm}},[e._v("Cansel")]),s("v-btn",{staticClass:"yellow-button ",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.sendData}},[e._v("Submit")])],1)],1):e._e()],1)],1)},r=[],o=(s("a4d3"),s("e01a"),s("4160"),s("b0c0"),s("4fad"),s("07ac"),s("9911"),s("159b"),s("3835")),a=s("5530"),n=s("2f62"),c=s("67bf"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"d-flex"},[e._l(e.pdfs,(function(t){return i("div",{key:t._id,staticClass:"pdf-container pt-12"},[i("a",{staticClass:"pdf-link",attrs:{href:t.link,target:"_blank"}},[i("v-img",{attrs:{src:s("5fe9"),width:"50px"}})],1),i("v-icon",{staticClass:"remove-pdf",attrs:{large:""},on:{click:function(s){return e.removePdf(t._id)}}},[e._v("mdi-close-circle-outline")])],1)})),!e.pdfs||e.pdfs.length<3?i("div",{staticClass:"plus-container"},[i("v-file-input",{staticClass:"add-pdf pa-0 ma-0",attrs:{"hide-input":"","prepend-icon":"mdi-plus-circle-outline"},on:{change:e.addPdf},model:{value:e.pdfFile,callback:function(t){e.pdfFile=t},expression:"pdfFile"}})],1):e._e()],2)])},u=[],l={props:["currentCourseId","videoId","user"],data:function(){return{pdfFile:null}},computed:Object(a["a"])(Object(a["a"])({},Object(n["b"])("userCourses",["currentVideo"])),{},{pdfs:function(){return this.currentVideo.pdfs}}),methods:{removePdf:function(e){e&&this.$store.dispatch("userCourses/REMOVE_PDF",{id:e,videoId:this.videoId,userId:this.user._id,currentCourseId:this.currentCourseId})},addPdf:function(){if(this.pdfFile){var e=new FormData;e.append("file",this.pdfFile),this.$store.dispatch("userCourses/ADD_PDF",{fd:e,videoId:this.videoId,userId:this.user._id,currentCourseId:this.currentCourseId})}}}},f=l,h=(s("9af2"),s("7388"),s("2877")),m=s("6544"),v=s.n(m),p=s("23a7"),b=s("132d"),g=s("adda"),C=Object(h["a"])(f,d,u,!1,null,"612f53b6",null),I=C.exports;v()(C,{VFileInput:p["a"],VIcon:b["a"],VImg:g["a"]});var _={components:{CoverImage:c["a"],VideoPdfs:I},data:function(){return{courseId:this.$route.params.courseid,videoId:this.$route.params.videoid,video:null,course:null,loading:!0,volume:0,showForm:!1,coverImageSrc:s("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid)},{text:"videos",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid,"/videos")},{text:"",disabled:!0,href:"#"}],nameOfVideo:"",description:"",imgFile:null}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(n["b"])("userCourses",["currentCourse","currentCourseId","currentVideoId","currentVideo"])),Object(n["b"])("auth",["user"])),{},{checkUrl:function(){var e,t,s;return null!==(e=null===(t=this.video)||void 0===t||null===(s=t.coverImg)||void 0===s?void 0:s.link)&&void 0!==e?e:this.coverImageSrc}}),watch:{user:function(e){this.fillingInTheFields()},currentVideo:function(e){e&&(this.video=e,this.nameOfVideo=e.name,this.description=e.description)},video:function(e){e&&(this.items[4].text="".concat(e.name),this.loading=!1,this.ready=!0)},currentCourse:function(e){e&&(this.course=e)},course:function(e){e&&(this.items[2].text="".concat(e.nameOfCourse))}},methods:{fillingInTheFields:function(){this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses")},closeForm:function(){this.showForm=!1},sendData:function(){var e={name:this.nameOfVideo,description:this.description,imgFile:this.imgFile},t=new FormData;Object.entries(e).forEach((function(s){var i=Object(o["a"])(s,2),r=i[0],a=i[1];Array.isArray(a)?Object.values(e[r]).forEach((function(e){e&&t.append("files",e)})):a instanceof File?t.append("file",a):a&&t.append(r,a)})),this.$store.dispatch("userCourses/PUT_CURRENT_VIDEO",{fd:t,id:this.videoId}),this.showForm=!1}},created:function(){this.user&&this.fillingInTheFields(),this.currentCourseId!==this.courseId&&this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId),this.currentVideoId!==this.videoId&&this.$store.dispatch("userCourses/GET_VIDEO_COURSE_ID",this.videoId),this.currentCourse&&this.currentVideo?(this.course=this.currentCourse,this.video=this.currentVideo,this.items[2].text=this.course.nameOfCourse,this.items[4].text=this.video.name,this.loading=!1,this.ready=!0):(this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId),this.$store.dispatch("userCourses/GET_VIDEO_COURSE_ID",this.videoId))}},x=_,O=(s("ff76"),s("2bc5")),V=s("f625"),F=s("8336"),j=s("b0af"),w=s("99d9"),E=s("62ad"),k=s("a523"),y=s("4bd4"),$=s("490a"),D=s("0fd9"),S=s("8654"),U=s("a844"),T=Object(h["a"])(x,i,r,!1,null,"2a898f84",null);t["default"]=T.exports;v()(T,{VBreadcrumbs:O["a"],VBreadcrumbsItem:V["a"],VBtn:F["a"],VCard:j["a"],VCardTitle:w["c"],VCol:E["a"],VContainer:k["a"],VFileInput:p["a"],VForm:y["a"],VProgressCircular:$["a"],VRow:D["a"],VTextField:S["a"],VTextarea:U["a"]})},ff76:function(e,t,s){"use strict";s("3c83")}}]);
//# sourceMappingURL=user-video.5702a22e.js.map