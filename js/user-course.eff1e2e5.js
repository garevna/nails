(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-course","chunk-2d0d07bb"],{"02aa":function(t,e,s){},"0611":function(t,e,s){"use strict";s("02aa")},3088:function(t,e,s){"use strict";s("bd1e")},"3eb5":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"edit-form"}},[s("v-row",[s("v-col",{attrs:{cols:"12",xs:"12",align:"right"}},[t.course&&!t.course.isPaid?s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:t.payDetail}},[t._v(" pay for the course")]):t._e()],1),t.course&&!t.editing?s("v-col",{attrs:{cols:"12",xs:"12"}},[s("CourseDetail",{attrs:{course:t.course,type:t.type,btnTitle:"BUY THIS COURSE",preview:!0}})],1):t._e(),t.editing?s("v-col",{attrs:{cols:"12",xs:"12",md:"7"}},[s("AddCourseForm",{attrs:{course:t.courseData},on:{"update:course":function(e){t.courseData=e},submit:t.submit,back:t.back}})],1):t._e(),t.editing?s("v-col",{staticClass:"d-flex flex-column justify-space-between align-center",attrs:{cols:"12",xs:"12",md:"5"}},[s("CourseCard",{attrs:{course:t.courseData,type:t.type,preview:!0}})],1):t._e(),s("v-col",{attrs:{cols:"12",xs:"12"}},[t.editing?s("CourseDetail",{attrs:{course:t.courseUpdate,type:t.type,btnTitle:"BUY THIS COURSE",preview:!0}}):t._e(),s("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center mt-8"},[!t.published&&t.addVideos?s("v-btn",{staticClass:"yellow-button my-8 my-sm-0 mr-sm-8",attrs:{color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:t.goUploadVideos}},[t._v("Upload video lessons of this course")]):t._e(),t.editing?t._e():s("v-btn",{staticClass:"yellow-button my-8 my-sm-0 mr-sm-8",attrs:{disabled:t.published,color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:t.fillingForm}},[t._v("Edit")]),t.addVideo?s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:t.goToVideos}},[t._v(" go to all video lessons of this course")]):t._e()],1)],1)],1)],1)},a=[],o=(s("4160"),s("b0c0"),s("4fad"),s("159b"),s("3835")),i=s("15fd"),n=s("5530"),u=s("2f62"),c=s("95db"),l=s("664c"),d=s("30d8"),f={components:{CourseDetail:c["a"],CourseCard:l["a"],AddCourseForm:d["a"]},data:function(){return{courseData:null,editing:!1,type:"online"}},computed:Object(n["a"])(Object(n["a"])({},Object(u["e"])("courses",["courses","course"])),{},{addVideos:function(){var t,e;return!(null!==this&&void 0!==this&&null!==(t=this.course)&&void 0!==t&&null!==(e=t.videos)&&void 0!==e&&e.length)&&!this.editing},addVideo:function(){var t,e;return(null===this||void 0===this||null===(t=this.course)||void 0===t||null===(e=t.videos)||void 0===e?void 0:e.length)&&!this.editing},published:function(){var t;return null===this||void 0===this||null===(t=this.course)||void 0===t?void 0:t.isPublished},courseUpdate:function(){return Object.assign({},this.course,this.courseData)}}),watch:{course:function(t){t&&(this.editing=!1)}},methods:Object(n["a"])(Object(n["a"])({},Object(u["b"])("courses",{putCourse:"PUT_COURSE",getCourse:"GET_COURSE"})),{},{submit:function(t){var e=t.thisCourseIsSuitableFor,s=Object(i["a"])(t,["thisCourseIsSuitableFor"]),r=new FormData;Object.entries(s).forEach((function(t){var e=Object(o["a"])(t,2),s=e[0],a=e[1];a instanceof File?r.append("file",a):r.append(s,a)})),e.forEach((function(t){r.append("thisCourseIsSuitableFor[]",t)})),this.putCourse({data:r,id:this.course._id})},fillingForm:function(){this.course&&(this.courseData=this.course,this.editing=!0,this.$vuetify.goTo("#edit-form",{duration:500,offset:80,easing:"easeInOutCubic"}))},back:function(){this.editing=!1},goToVideos:function(){"user-videos"!==this.$route.name&&this.$router.push({name:"user-videos"})},goUploadVideos:function(){"add-course-videos"!==this.$route.name&&this.$router.push({name:"add-course-videos",params:{courseid:this.course._id}})},payDetail:function(){this.$router.push({name:"by-course-creator",params:{courseid:this.$route.params.courseid}})}}),created:function(){this.getCourse(this.$route.params.courseid)},mounted:function(){}},h=f,p=s("2877"),v=s("6544"),m=s.n(v),b=s("8336"),y=s("62ad"),C=s("a523"),g=s("0fd9"),_=Object(p["a"])(h,r,a,!1,null,"d100f8d2",null);e["default"]=_.exports;m()(_,{VBtn:b["a"],VCol:y["a"],VContainer:C["a"],VRow:g["a"]})},"664c":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-hover",{attrs:{"open-delay":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[s("v-card",{staticClass:"ma-12",class:{"on-hover":r},attrs:{dark:"",elevation:r?16:2,width:t.width}},[s("CoverImage",{attrs:{url:t.linkCheck(t.course)}}),s("v-card-title",{staticClass:"buttons--text px-4"},[t._v(" "+t._s(t.course.accessDays)+" days | $ "+t._s(t.course.price)+" ")]),s("h3",{staticClass:"px-4 pb-4 text-truncate"},[t._v(t._s(t.course.nameOfCourse))]),s("p",{staticClass:"px-4 text-truncate spacing"},[t._v(t._s(t.course.subtitle))]),"online"===t.type?s("v-card-actions",{staticClass:"pa-4"},[s("v-btn",{staticClass:"yellow-button mr-4",attrs:{color:"buttons",rounded:"",small:"",outlined:"",primary:"","min-width":"90"},on:{click:t.payDetail}},[t._v("pay")]),s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",small:"","min-width":"90",dark:""},on:{click:function(e){return t.detailInfo("course-online")}}},[t._v("more")])],1):s("v-card-actions",{staticClass:"pa-4"},[s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",outlined:"",small:"",dark:"","min-width":"90"},on:{click:function(e){return t.detailInfo("course-offline")}}},[t._v("more")])],1)],1)]}}])})},a=[],o=s("5530"),i=s("2f62"),n=s("67bf"),u=s("a17f"),c={name:"CourseCard",props:{course:{type:Object,required:!0},type:{type:String,required:!0},preview:{type:Boolean,default:!1},width:{type:String,default:"300"}},components:{CoverImage:n["default"]},data:function(){return{}},computed:Object(o["a"])({},Object(i["e"])("auth",["user"])),watch:{},methods:{linkCheck:function(t){return Object(u["a"])(t)},detailInfo:function(t){this.preview||this.$router.push({name:t,params:{courseid:this.course._id}})},payDetail:function(){this.preview||(this.user?this.$router.push({name:"by-course",params:{courseid:this.course._id}}):this.$router.push({name:"sign-in"}))}}},l=c,d=(s("3088"),s("2877")),f=s("6544"),h=s.n(f),p=s("8336"),v=s("b0af"),m=s("99d9"),b=s("ce87"),y=Object(d["a"])(l,r,a,!1,null,"48737bd5",null);e["a"]=y.exports;h()(y,{VBtn:p["a"],VCard:v["a"],VCardActions:m["a"],VCardTitle:m["c"],VHover:b["a"]})},"67bf":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-img",{attrs:{src:t.imgUrl,width:t.width,height:t.height,contain:""},on:{error:function(e){t.error=!0}}})},a=[],o={name:"CoverImage",props:{url:{type:String,required:!0},height:{type:String,default:"300"},width:{type:String,default:"300"}},data:function(){return{error:!1,coverImageSrc:"".concat("https://nails-australia-staging.herokuapp.com","/img/noImage300x300.png")}},computed:{imgUrl:function(){return this.error||!this.url?this.coverImageSrc:this.url}},watch:{url:function(t){t&&(this.error=!1)}},methods:{}},i=o,n=s("2877"),u=s("6544"),c=s.n(u),l=s("adda"),d=Object(n["a"])(i,r,a,!1,null,null,null);e["default"]=d.exports;c()(d,{VImg:l["a"]})},"95db":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"",dark:""}},[s("v-row",[s("v-col",{staticClass:"d-flex flex-column justify-space-between align-center align-sm-start",attrs:{cols:"12",xs:"12",order:"2",sm:"6","order-sm":"2"}},[s("v-card",{staticClass:"mb-8 transparent",attrs:{flat:"",dark:""}},[s("v-card-title",{staticClass:"pa-0 pl-4"},[t._v(t._s(t.course.category))]),s("v-card-text",{staticClass:"pa-0 pl-4 buttons--text d-flex"},[t._v(t._s(t.type)+" course")]),s("v-card-title",{staticClass:"pa-0 pl-4"},[t._v(t._s(t.course.nameOfCourse))]),s("v-card-text",{staticClass:"pa-0 pl-4 text-start"},[t._v(t._s(t.course.subtitle))]),s("v-card-title",{staticClass:"pa-0 pl-4 buttons--text"},[t._v(t._s(t.course.accessDays)+" days | $ "+t._s(t.course.price))])],1),"online"===t.type?s("v-card",{staticClass:"transparent",attrs:{flat:"",dark:""}},[t.course.isPaid?t._e():s("v-card-text",{staticClass:"pa-0 pl-4 pb-4 d-flex notPaidAndPublished--text"},[s("h3",[t._v("this course has not been paid for yet")])]),t.course.isPublished?t._e():s("v-card-text",{staticClass:"pa-0 pl-4 d-flex notPaidAndPublished--text"},[s("h3",[t._v("this course has not been published yet")])])],1):t._e(),"offline"===t.type?s("v-card",{staticClass:"transparent d-flex flex-column align-center",attrs:{flat:"",dark:""}},[s("table",[s("tr",[s("th",[t._v("Date of course")]),s("th",[t._v("Available spots")])]),t._l(t.dateOfCourses,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.date))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.availableSpots))])])}))],2)]):t._e(),s("v-card",{staticClass:"transparent d-flex flex-column align-center",attrs:{flat:"",dark:""}},[s("v-card-title",[t._v("This course is cuitable for:")]),s("ul",t._l(t.course.thisCourseIsSuitableFor,(function(e,r){return s("li",{key:r},[t._v(" "+t._s(e)+" ")])})),0)],1)],1),s("v-col",{attrs:{cols:"12",xs:"12",order:"1",sm:"6","order-sm":"2",align:"center",justify:"center"}},[s("CoverImage",{attrs:{url:t.linkCheck(t.course)}})],1),s("v-col",{attrs:{cols:"12",xs:"12",order:"2"}},[s("v-card-text",{staticClass:"mt-16 whitefone--text d-flex justify-center justify-sm-start"},[t._v("Author and instructor of the course: "+t._s(t.course.instructor))])],1),s("v-col",{attrs:{cols:"12",xs:"12",order:"2"}},[s("v-card",{staticClass:"transparent",attrs:{flat:"",dark:""}},[s("v-card-title",{staticClass:"d-flex justify-center justify-sm-start"},[t._v("On this course:")]),s("v-card-text",t._l(t.descriptions,(function(e,r){return s("p",{key:r},[t._v(" "+t._s(e)+" ")])})),0),s("v-card-text",[t._v(t._s(t.course.infoForBonus))])],1)],1),s("v-col",{staticClass:"d-flex justify-center justify-sm-end",attrs:{cols:"12",xs:"12",order:"2"}},[s("v-btn",{staticClass:"yellow-button mr-4",attrs:{color:"buttons",rounded:"",small:"",outlined:"",primary:"","min-width":"90"},on:{click:t.btnHandler}},[t._v(t._s("offline"===t.type?"Apply":"Buy this course"))])],1)],1)],1)},a=[],o=(s("a4d3"),s("e01a"),s("4de4"),s("d81d"),s("ac1f"),s("1276"),s("498a"),s("5530")),i=s("2f62"),n=s("67bf"),u=s("a17f"),c=s("ff98"),l={name:"CourseDetail",props:{course:{type:Object,required:!0},type:{type:String,required:!0},preview:{type:Boolean,default:!1}},components:{CoverImage:n["default"]},data:function(){return{}},watch:{},computed:Object(o["a"])(Object(o["a"])({},Object(i["e"])("auth",["user"])),{},{descriptions:function(){var t;return null!==(t=this.course)&&void 0!==t&&t.description?this.course.description.split("\n").map((function(t){return t.trim()})).filter((function(t){return t})):[]},dateOfCourses:function(){var t=this;return this.course.dateOfCourses.map((function(e){return{date:t.formatedDate(e.date),availableSpots:e.availableSpots,id:e._id}}))}}),methods:{linkCheck:function(t){return Object(u["a"])(t)},formatedDate:function(t){var e=[];try{e=JSON.parse(t)}catch(s){}return Array.isArray(e)||(e=[]),Object(c["a"])(e)},btnHandler:function(){this.preview||(this.user?this.$router.push({name:"online"===this.type?"by-course":"by-offline",params:{courseid:this.course._id}}):this.$router.push({name:"sign-in"}))}}},d=l,f=(s("0611"),s("2877")),h=s("6544"),p=s.n(h),v=s("8336"),m=s("b0af"),b=s("99d9"),y=s("62ad"),C=s("a523"),g=s("0fd9"),_=Object(f["a"])(d,r,a,!1,null,"f0f95c44",null);e["a"]=_.exports;p()(_,{VBtn:v["a"],VCard:m["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:y["a"],VContainer:C["a"],VRow:g["a"]})},a17f:function(t,e,s){"use strict";s("d3b7"),s("3ca3"),s("9911"),s("ddb0"),s("2b3d");e["a"]=function(t){var e;return t?t.photo instanceof File?URL.createObjectURL(t.photo):Array.isArray(t.photo)&&t.photo.length?null===(e=t.photo[0])||void 0===e?void 0:e.link:null:null}},bd1e:function(t,e,s){},ce87:function(t,e,s){"use strict";var r=s("16b7"),a=s("f2e7"),o=s("58df"),i=s("d9bd");e["a"]=Object(o["a"])(r["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(i["c"])("v-hover should only contain a single element",this),t)):(Object(i["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},ff98:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));s("a15b"),s("d81d"),s("13d5"),s("ac1f"),s("1276");var r=function(t){var e=t.split("-"),s=e.pop(),r=e.join("-"),a={month:r,days:[s]};return a},a=function(t){return t.map((function(t){return r(t)}))},o=function(t){return t.reduce((function(t,e){return t.length&&e.month===t[t.length-1].month?(t[t.length-1].days.push(e.days[0]),t):(t.push(e),t)}),[])};function i(t){return 1===t.length?"-"+t[0]:"("+t.join(", ")+")"}function n(t){return t.map((function(t){return t.month+i(t.days)})).join(", \n")}function u(t){return n(o(a(t.sort())))}}}]);
//# sourceMappingURL=user-course.eff1e2e5.js.map