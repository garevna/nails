(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-video"],{"228e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12"}},[t.loading?i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):t._e()],1),!t.loading&&t.video?i("v-col",{staticClass:"player-container",attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[i("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.playerOptions}})],1):t._e(),!t.loading&&t.video?i("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[i("v-card",{staticClass:"transparent",attrs:{flat:""}},[i("v-card-text",t._l(t.descriptions,(function(e,a){return i("p",{key:a,staticClass:"text--text"},[t._v(" "+t._s(e)+" ")])})),0)],1)],1):t._e(),!t.loading&&t.video?i("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[i("CoverImage",{attrs:{url:t.linkCheck(t.video),height:500}}),i("v-card",{staticClass:"d-flex justify-center mt-16",attrs:{flat:""}},[i("VideoPdfs")],1)],1):t._e(),t.showForm?t._e():i("v-col",{attrs:{cols:"12",xs:"12"}},[i("div",{staticClass:"d-flex justify-center mt-8"},[i("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(e){t.showForm=!0}}},[t._v(" Edit ")])],1)]),t.showForm?i("v-col",{attrs:{cols:"12",xs:"12"}},[i("v-form",{ref:"form-video"},t._l(t.data,(function(e,a){return i("div",{key:a},["text"===t.schema[a].type?i("TextInput",{attrs:{value:t.data[a],label:t.schema[a].label,required:t.schema[a].required},on:{"update:value":function(e){return t.$set(t.data,a,e)}}}):t._e(),"file"===t.schema[a].type?i("div",{staticClass:"my-4"},[t.valInput(a)?i("v-btn",{attrs:{color:"buttons",rounded:"",small:"",outlined:"",primary:""},on:{click:function(e){t.data[a]=null}}},[t._v(" change file ")]):i("FileInput",{attrs:{value:t.data[a],label:t.schema[a].label,icon:t.schema[a].icon,size:t.schema[a].size,required:t.schema[a].required},on:{"update:value":function(e){return t.$set(t.data,a,e)}}})],1):t._e(),"textarea"===t.schema[a].type?i("TextAreaInput",{attrs:{value:t.data[a],label:t.schema[a].label,required:t.schema[a].required},on:{"update:value":function(e){return t.$set(t.data,a,e)}}}):t._e()],1)})),0),i("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center"},[i("v-btn",{staticClass:"yellow-button my-8 my-sm-0 mr-sm-4",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:t.closeForm}},[t._v("Cancel")]),i("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:t.sendData}},[t._v("Submit")])],1)],1):t._e()],1)],1)},n=[],o=(i("a4d3"),i("e01a"),i("4de4"),i("4160"),i("a15b"),i("d81d"),i("13d5"),i("4fad"),i("b64b"),i("ac1f"),i("1276"),i("498a"),i("9911"),i("159b"),i("96cf"),i("1da1")),s=i("53ca"),r=i("5530"),c=i("ade3"),l=i("3835"),u=i("2f62"),d=(i("fda2"),i("d6d3")),f=i("67bf"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.errors?a("v-card",{staticClass:"mb-8",attrs:{flat:""}},[a("p",{staticClass:"error--text"},[t._v(t._s(t.errors[0]))])]):t._e(),a("v-card",{staticClass:"d-flex",attrs:{flat:""}},[t._l(t.pdfs,(function(e){return a("div",{key:e._id,staticClass:"d-flex flex-column align-center mx-4"},[a("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(i){return t.removePdf(e._id)}}},"v-btn",o,!1),n),[a("v-icon",{attrs:{large:""}},[t._v("mdi-close-circle-outline")])],1)]}}],null,!0)},[a("span",[t._v("Remove pdf file")])]),a("a",{staticClass:"mt-4",attrs:{href:e.link,target:"_blank"}},[a("v-img",{attrs:{src:i("5fe9"),width:"50px"}})],1)],1)})),!t.pdfs||t.pdfs.length<t.schema.count?a("v-form",{ref:"form",staticClass:"mx-4"},[a("IconFileInput",{attrs:{value:t.data,colorIcon:"primary",colorText:"primary",text:"Add pdf file",icon:"mdi-plus-circle-outline",size:5e3},on:{"update:value":function(e){t.data=e}}})],1):t._e()],2)],1)},p=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tooltip",{attrs:{top:"",color:t.colorText},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:t.colorIcon,disabled:t.disabled},on:{click:function(e){return t.$refs["file-input"].$children[0].$el.click()}}},"v-btn",n,!1),a),[i("v-icon",{attrs:{large:""}},[t._v(" "+t._s(t.icon)+" ")])],1),i("v-file-input",t._g(t._b({ref:"file-input",staticClass:"d-none",attrs:{rules:[t.rules.required,t.rules.size],"show-size":1e3,accept:t.accept},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}},"v-file-input",n,!1),a))]}}])},[i("span",[t._v(t._s(t.text))])])},m=[],b=(i("99af"),i("a9e3"),{name:"IconFileInput",props:{value:{type:File},text:{type:String,default:""},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},size:{type:Number,default:1e3},accept:{type:String,default:""},required:{type:Boolean,default:!1},colorIcon:{type:String,default:""},colorText:{type:String,default:""}},data:function(){var t=this;return{rules:{required:function(e){var i=t.required&&!!e,a=!t.required,n=!(i&&a)&&(i||a);return n||"Input is required"},size:function(e){return!e||(null===e||void 0===e?void 0:e.size)<1e3*t.size||"File size should be less than ".concat(t.fileSize)}}}},computed:{fileSize:function(){var t=["KB","MB","GB","TB"],e=this.size,i=0;while(e>=1e3&&i<t.length-1)e/=1e3,i+=1;return"".concat(e).concat(t[i])},localValue:{get:function(){return this.value},set:function(t){this.$emit("update:value",t)}}},methods:{}}),g=b,y=(i("eca4"),i("2877")),_=i("6544"),x=i.n(_),O=i("8336"),C=i("23a7"),I=i("132d"),j=(i("9734"),i("4ad4")),w=i("a9ad"),F=i("16b7"),V=i("b848"),k=i("75eb"),T=i("f573"),D=i("f2e7"),$=i("80d2"),A=i("d9bd"),z=i("58df"),P=Object(z["a"])(w["a"],F["a"],V["a"],k["a"],T["a"],D["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,i=t.content,a=!this.bottom&&!this.left&&!this.top&&!this.right,n=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||a?o=n+e.width/2-i.width/2:(this.left||this.right)&&(o=n+(this.right?e.width:-i.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,i=t.content,a=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=a+(this.bottom?e.height:-i.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=a+e.height/2-i.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(n+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object($["g"])(this.maxWidth),minWidth:Object($["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object($["q"])(this,"activator",!0)&&Object(A["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=j["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===$["u"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(c["a"])(t,this.contentClass,!0),Object(c["a"])(t,"menuable__content__active",this.isActive),Object(c["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}}),S=Object(y["a"])(g,v,m,!1,null,null,null),q=S.exports;x()(S,{VBtn:O["a"],VFileInput:C["a"],VIcon:I["a"],VTooltip:P});var B=i("234b").default,E={name:"VideoPdfs",components:{IconFileInput:q},data:function(){return{schema:B,data:null,errors:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(u["d"])("courses",["course","video"])),{},{pdfs:function(){return this.video.pdfs}}),watch:{data:function(t){t&&this.addPdf()}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])("courses",{removePDF:"REMOVE_PDF",addPDF:"ADD_PDF"})),{},{removePdf:function(t){t&&this.removePDF({id:t,videoId:this.$route.params.videoid,currentCourseId:this.$route.params.courseid})},addPdf:function(){var t,e;if(this.data&&this.$refs.form.validate()){var i=new FormData;i.append("file",this.data),this.addPDF({fd:i,videoId:this.$route.params.videoid,currentCourseId:this.$route.params.courseid}),this.$refs.form.reset()}this.errors=null!==(t=null===(e=this.$refs.form.inputs[0])||void 0===e?void 0:e.errorBucket)&&void 0!==t?t:[]}}),mounted:function(){}},R=E,L=i("b0af"),N=i("4bd4"),U=i("adda"),W=Object(y["a"])(R,h,p,!1,null,"1caed688",null),M=W.exports;x()(W,{VBtn:O["a"],VCard:L["a"],VForm:N["a"],VIcon:I["a"],VImg:U["a"],VTooltip:P});var G=i("a237"),Y=i("9284"),J=i("9d48"),X=i("37e9"),H=i("9ce0").default,K={name:"UserCourseDetailVideo",components:{CoverImage:f["a"],VideoPdfs:M,TextInput:Y["a"],TextAreaInput:J["a"],FileInput:X["a"],videoPlayer:d["videoPlayer"]},data:function(){return{loading:!1,volume:0,showForm:!1,schema:H,data:Object.entries(H).reduce((function(t,e){var i=Object(l["a"])(e,2),a=i[0],n=i[1],o="";return"file"===n.type&&(o=null),Object.assign(t,Object(c["a"])({},a,o))}),{})}},computed:Object(r["a"])(Object(r["a"])({},Object(u["d"])("courses",["course","video"])),{},{descriptions:function(){var t;return null!==(t=this.video)&&void 0!==t&&t.description?this.video.description.split("\n").map((function(t){return t.trim()})).filter((function(t){return t})):[]},playerOptions:function(){var t;return{language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:null===(t=this.video)||void 0===t?void 0:t.link}]}}}),watch:{showForm:function(t){t&&this.fillingFields()}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])("courses",{getCourse:"GET_COURSE",putVideo:"PUT_VIDEO",getFindVideo:"GET_FIND_VIDEO"})),{},{linkCheck:function(t){return Object(G["a"])(t)},valInput:function(t){return!(null===this.data[t]||this.data[t]instanceof File)},closeForm:function(){this.showForm=!1},fillingFields:function(){var t=this;this.video&&Object.keys(this.data).forEach((function(e){t.data[e]=t.video[e]}))},noObjNull:function(t){return null===t||"object"===Object(s["a"])(t)&&!(t instanceof File)},sendData:function(){var t=this;if(this.$refs["form-video"].validate()){this.data.description=this.data.description.split(" ").filter((function(t){return t})).join(" ");var e=new FormData;Object.entries(this.data).forEach((function(i){var a=Object(l["a"])(i,2),n=a[0],o=a[1];t.noObjNull(o)||(o instanceof File?e.append("file",o):e.append(n,o))})),this.putVideo({fd:e,id:this.$route.params.videoid}),this.showForm=!1}},get:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCourse(t.$route.params.courseid);case 2:return e.next=4,t.getFindVideo(t.$route.params.videoid);case 4:case"end":return e.stop()}}),e)})))()}}),created:function(){this.get()},mounted:function(){}},Z=K,Q=(i("430a"),i("8343"),i("99d9")),tt=i("62ad"),et=i("a523"),it=i("490a"),at=i("0fd9"),nt=Object(y["a"])(Z,a,n,!1,null,"7175c5b6",null);e["default"]=nt.exports;x()(nt,{VBtn:O["a"],VCard:L["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:et["a"],VForm:N["a"],VProgressCircular:it["a"],VRow:at["a"]})},"234b":function(t,e,i){"use strict";i.r(e),e["default"]={icon:"mdi-plus-circle-outline",size:5e3,hideInput:!0,count:3}},"430a":function(t,e,i){"use strict";i("5c21")},"494b":function(t,e,i){},"5c21":function(t,e,i){},"5fe9":function(t,e,i){t.exports=i.p+"img/pdf.3fa92281.svg"},"6bf5":function(t,e,i){},8343:function(t,e,i){"use strict";i("6bf5")},9734:function(t,e,i){},"9ce0":function(t,e,i){"use strict";i.r(e),e["default"]={name:{label:"Name of video",type:"text",required:!0},imgFile:{label:"Image file",type:"file",icon:"mdi-camera",accept:"image/png, image/jpeg, image/bmp",size:5e3,required:!0},description:{label:"Description",type:"textarea",required:!0}}},a237:function(t,e,i){"use strict";i("d3b7"),i("3ca3"),i("9911"),i("ddb0"),i("2b3d");e["a"]=function(t){var e,i;return t?t.coverImg instanceof File?URL.createObjectURL(t.coverImg):null!==(e=null===t||void 0===t||null===(i=t.coverImg)||void 0===i?void 0:i.link)&&void 0!==e?e:null:null}},eca4:function(t,e,i){"use strict";i("494b")}}]);
//# sourceMappingURL=user-video.34014c4b.js.map