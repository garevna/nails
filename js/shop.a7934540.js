(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"0fa5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"whitefone shop-layout",attrs:{fluid:"","fill-height":""}},[a("v-card",{staticClass:"transparent mx-auto",attrs:{flat:"","max-width":"1440",width:"100%"}},[a("CategoriesSwitcher",{attrs:{selectedSection:t.selectedSection,setSelectedSection:t.setSelectedSection,mobileMenu:t.mobileMenu}}),a("v-row",[t.mobileMenu?t._e():a("v-col",{attrs:{cols:"12",sm:"6",md:"3",xl:"3",lg:"3"}},[a("LeftSideMenu",{attrs:{setSelectedSection:t.setSelectedSection}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"9",xl:"9",lg:"9"}},[a("v-row",{attrs:{justify:"start"}},t._l(t.commodities,(function(t){return a("Card",{key:t.id,attrs:{images:t.image,name:t.name,price:t.price,brand:t.brand,id:t._id}})})),1)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-pagination",{staticClass:"pagination-buttons",attrs:{length:t.pagination.total,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right"},on:{input:t.setPage},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},n=[],s=(a("7db0"),a("0481"),a("4069"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),r=a("5530"),o=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"cardfone ma-8 shop-card",on:{click:t.goToItem}},[a("v-card",{staticClass:"px-0 pt-4 gray-background",attrs:{flat:""}},[a("v-img",{attrs:{src:t.images[0],width:"100%",height:"220",contain:""}})],1),a("v-card-text",{staticClass:"text-wrap"},[a("h4",{staticClass:"color-black"},[t._v(t._s(t.name))]),a("h4",[t._v(t._s(t.brand))])]),a("v-card-text",{staticClass:"price-wrap"},[a("h4",{staticClass:"color-black"},[t._v(t._s(t.price)+" AUD")])])],1)},l=[],u={name:"Card",props:["images","name","price","brand","id"],methods:{goToItem:function(){this.$router.push({name:"shop-item",params:{commodityId:this.id}})}}},h=u,d=(a("6fbc"),a("2877")),p=a("6544"),f=a.n(p),m=a("b0af"),g=a("99d9"),v=a("adda"),b=Object(d["a"])(h,c,l,!1,null,"53584ba0",null),y=b.exports;f()(b,{VCard:m["a"],VCardText:g["a"],VImg:v["a"]});var x=a("1348"),S=a("21af"),$={name:"Shop",components:{Card:y,LeftSideMenu:x["a"],CategoriesSwitcher:S["a"]},data:function(){return{selectedSection:{},categoryName:this.$route.params.categoryName}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["b"])(["viewportWidth"])),Object(o["b"])("shop",["categories","commodities","totalCommodities"])),{},{pagination:function(){var t=+this.$route.query.page;return{page:isNaN(t)?1:t,total:Math.ceil(this.totalCommodities/8),skip:isNaN(t)?0:8*t-8}},mobileMenu:function(){return this.viewportWidth<960}}),methods:{getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!t.categories,!e.t0){e.next=4;break}return e.next=4,t.$store.dispatch("shop/GET_SHOP_CATEGORIES");case 4:return e.next=6,t.categories.length;case 6:if(e.t1=e.sent,!e.t1){e.next=9;break}e.t1=t.categories.flat();case 9:if(a=e.t1,e.t2=!t.categoryName,!e.t2){e.next=14;break}return e.next=14,t.$router.replace({name:"shop",params:{categoryName:a[0].slug}});case 14:return e.next=16,t.categoryName;case 16:if(!e.sent){e.next=20;break}e.t3=t.categoryName,e.next=21;break;case 20:e.t3=a[0].slug;case 21:return t.categoryName=e.t3,e.next=24,a.length;case 24:if(e.t4=e.sent,!e.t4){e.next=27;break}e.t4=a.find((function(e){return e.slug===t.categoryName}));case 27:return t.selectedSection=e.t4,e.next=30,t.selectedSection;case 30:if(e.t5=e.sent,!e.t5){e.next=33;break}t.getCommodities();case 33:case"end":return e.stop()}}),e)})))()},setSelectedSection:function(t){this.selectedSection=t},onResizeHandler:function(){this.mobileMenu=this.viewportWidth<960},getCommodities:function(){this.$store.dispatch("shop/GET_SHOP_COMMODITIES",{categoryId:this.selectedSection._id,skip:this.pagination.skip})},setPage:function(t){t!==this.$route.query.page&&(this.$router.replace({name:"shop",params:{categoryId:this.categoryId},query:{page:t}}),this.pagination.page=t,this.pagination.skip=8*t-8,this.getCommodities())}},mounted:function(){this.getData(),this.$vuetify.theme.themes.light.homefone=this.$vuetify.theme.themes.light.whitefone},beforeDestroy:function(){this.$vuetify.theme.themes.light.homefone=this.$vuetify.theme.themes.light.secondaryGray}},w=$,C=(a("a6b9"),a("62ad")),_=a("a523"),O=(a("99af"),a("d81d"),a("a9e3"),a("d3b7"),a("25f0"),a("2909")),j=(a("17b3"),a("9d26")),k=a("dc22"),I=a("a9ad"),M=a("de2c"),V=a("7560"),N=a("58df"),L=Object(N["a"])(I["a"],Object(M["a"])({onVisible:["init"]}),V["a"]).extend({name:"v-pagination",directives:{Resize:k["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(r["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10),e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var a=e%2===0?1:0,i=Math.floor(e/2),n=this.length-i+1+a;if(this.value>i&&this.value<n){var s=this.value-i+2,r=this.value+i-2-a;return[1,"..."].concat(Object(O["a"])(this.range(s,r)),["...",this.length])}if(this.value===i){var o=this.value+i-1-a;return[].concat(Object(O["a"])(this.range(1,o)),["...",this.length])}if(this.value===n){var c=this.value-i+1;return[1,"..."].concat(Object(O["a"])(this.range(c,this.length)))}return[].concat(Object(O["a"])(this.range(1,i)),["..."],Object(O["a"])(this.range(n,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var a=[];t=t>0?t:1;for(var i=t;i<=e;i++)a.push(i);return a},genIcon:function(t,e,a,i,n){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{type:"button","aria-label":n},on:a?{}:{click:i}},[t(j["a"],[e])])])},genItem:function(t,e){var a=this,i=e===this.value&&(this.color||"primary"),n=e===this.value,s=n?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":n,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:function(){return a.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(a,i){return t("li",{key:i},[isNaN(Number(a))?t("span",{class:"v-pagination__more"},[a.toString()]):e.genItem(t,a)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),E=a("0fd9"),P=Object(d["a"])(w,i,n,!1,null,null,null);e["default"]=P.exports;f()(P,{VCard:m["a"],VCol:C["a"],VContainer:_["a"],VPagination:L,VRow:E["a"]})},1262:function(t,e,a){},1348:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.categories?a("v-card",{staticClass:"transparent",attrs:{flat:""}},t._l(t.categories,(function(e,i){return a("v-card-text",{key:i},[t._l(e,(function(e,i){return a("h3",{key:i,staticClass:"gray-font",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.setSection(e)}}},[t._v(" "+t._s(e.name)+" ")])})),e.length>1?a("v-divider",{staticClass:"gray-divider"}):t._e()],2)})),1):t._e()},n=[],s=(a("b0c0"),a("5530")),r=a("2f62"),o={name:"Shop",props:["setSelectedSection"],computed:Object(s["a"])({},Object(r["b"])("shop",["categories"])),methods:{setSection:function(t){this.setSelectedSection(t),"shop"===this.$route.name?(this.$store.dispatch("shop/GET_SHOP_COMMODITIES",{categoryId:t._id}),this.$route.params.categoryName!==t.slug&&this.$router.push({name:"shop",params:{categoryName:t.slug}})):this.$router.push({name:"shop",params:{categoryName:t.slug}})}}},c=o,l=(a("66bc"),a("2877")),u=a("6544"),h=a.n(u),d=a("b0af"),p=a("99d9"),f=a("ce7e"),m=Object(l["a"])(c,i,n,!1,null,null,null);e["a"]=m.exports;h()(m,{VCard:d["a"],VCardText:p["a"],VDivider:f["a"]})},"17b3":function(t,e,a){},"21af":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"0",md:"4"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"7"}},[a("v-card",{staticClass:"transparent"},[a("v-expansion-panels",{staticClass:"category-switcher",attrs:{flat:"",readonly:!t.mobileMenu,value:t.isOpened}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"category-switcher-header",attrs:{"expand-icon":"mdi-menu-down","hide-actions":!t.mobileMenu}},[a("h4",[t._v(t._s(t.selectedSection.name))])]),a("v-expansion-panel-content",[a("LeftSideMenu",{attrs:{setSelectedSection:t.setNewCategory}})],1)],1)],1)],1)],1)],1)},n=[],s=a("5530"),r=a("2f62"),o=a("1348"),c={name:"CategoriesSwithcer",components:{LeftSideMenu:o["a"]},props:["selectedSection","setSelectedSection","mobileMenu"],data:function(){return{isOpened:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["viewportWidth"])),Object(r["b"])("shop",["categories","commodities"])),watch:{mobileMenu:function(){this.isOpened=this.mobileMenu}},methods:{setNewCategory:function(t){this.setSelectedSection(t),this.isOpened=!this.isOpened}}},l=c,u=(a("95f6"),a("2877")),h=a("6544"),d=a.n(h),p=a("b0af"),f=a("62ad"),m=a("cd55"),g=a("49e2"),v=a("c865"),b=a("0393"),y=a("0fd9"),x=Object(u["a"])(l,i,n,!1,null,null,null);e["a"]=x.exports;d()(x,{VCard:p["a"],VCol:f["a"],VExpansionPanel:m["a"],VExpansionPanelContent:g["a"],VExpansionPanelHeader:v["a"],VExpansionPanels:b["a"],VRow:y["a"]})},3133:function(t,e,a){},"66bc":function(t,e,a){"use strict";var i=a("3133"),n=a.n(i);n.a},"6fbc":function(t,e,a){"use strict";var i=a("c357"),n=a.n(i);n.a},"95f6":function(t,e,a){"use strict";var i=a("c549"),n=a.n(i);n.a},a6b9:function(t,e,a){"use strict";var i=a("1262"),n=a.n(i);n.a},c357:function(t,e,a){},c549:function(t,e,a){},de2c:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("90a2"),n=a("d9bd"),s=a("2b0e");function r(t){return"undefined"!==typeof window&&"IntersectionObserver"in window?s["a"].extend({name:"intersectable",mounted:function(){i["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed:function(){i["a"].unbind(this.$el)},methods:{onObserve:function(e,a,i){if(i)for(var s=0,r=t.onVisible.length;s<r;s++){var o=this[t.onVisible[s]];"function"!==typeof o?Object(n["c"])(t.onVisible[s]+" method is not available on the instance but referenced in intersectable mixin options"):o()}}}}):s["a"].extend({name:"intersectable"})}}}]);
//# sourceMappingURL=shop.a7934540.js.map