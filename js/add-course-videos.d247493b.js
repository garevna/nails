(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["add-course-videos"],{"00a4":function(e,t,n){"use strict";n.r(t),t["default"]={item:{name:{label:"Name of video",type:"text",limit:60,required:!0},videoFile:{label:"Video file",type:"file",icon:"mdi-video",accept:"video/mp4",size:1e6,required:!0},imgFile:{label:"Image file",type:"file",icon:"mdi-camera",accept:"image/png, image/jpeg, image/bmp",size:1e4,required:!0},pdfFiles:{count:3,label:"PDF file",type:"pdfFile",icon:"mdi-file-pdf-box",accept:".pdf",size:5e4,required:!1},description:{label:"Description",type:"textarea",limit:2e3,required:!0}},count:5}},"0393":function(e,t,n){"use strict";n("0481"),n("4069");var a=n("5530"),i=(n("210b"),n("604c")),s=n("d9bd");t["a"]=i["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(s["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(s["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,t){var n=this.getValue(e,t),a=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(a)}}})},"166a":function(e,t,n){},"210b":function(e,t,n){},"29fb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"transparent",attrs:{flat:""}},[n("v-card-actions",{staticClass:"flex-column flex-sm-row justify-center btn-group"},[n("v-btn",{staticClass:"yellow-button mb-4 mb-sm-0 pa-4",class:{"button-unactive":e.isActive},attrs:{rounded:"",color:"buttons",large:"",disabled:!e.$route.params.courseid},on:{click:e.toggleBtn}},[e._v("CONFIRM DETAILS")]),n("v-btn",{staticClass:"yellow-button pa-4 ml-0 ml-sm-4",attrs:{color:"buttons",rounded:"",large:"",dark:""},on:{click:e.goToUserCourse}},[e._v("EDIT DETAILS")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"5"}},[n("v-card",{staticClass:"secondaryGray",attrs:{flat:"",dark:""}},[n("v-card-title",[e._v("Requirements to the video")]),n("v-card-text",[e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, doloremque. Vel, aliquid illo, adipisci magnam ratione explicabo voluptates, aperiam voluptate inventore ea aspernatur veniam fugit animi et nihil obcaecati quibusdam!")])],1)],1),n("v-col",{attrs:{cols:"12",md:"7"}},[n("p",[e._v("Upload video for moderation")]),n("v-expansion-panels",{staticClass:"add-videos",attrs:{flat:"",disabled:!e.isActive}},e._l(e.data,(function(t,a){return n("v-expansion-panel",{key:a,staticClass:"homefone"},[n("v-expansion-panel-header",{staticClass:"btn-open-video mb-4",class:{"button-unactive":!e.isActive},on:{click:function(t){e.expansionIndex=a}}},[e._v(" + add video "+e._s(a+1)+" "),e.validates[a]?e._e():n("h3",{staticClass:"error-form error--text"},[e._v("error")])]),n("v-expansion-panel-content",{staticClass:"mt-10"},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"10",lg:"8"}},[n("v-form",{ref:"form"+a,refInFor:!0},[n("AddVideoItem",{attrs:{data:e.data[a]},on:{"update:data":function(t){return e.$set(e.data,a,t)}}})],1)],1)],1)],1)],1)})),1)],1),n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"transparent my-8",attrs:{flat:""}},[n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"",dark:"","min-width":"160",disabled:e.disabledSubmit},on:{click:e.sendData}},[e._v("PROCEED AND CHECKOUT")])],1)],1)],1)],1)],1)},i=[],s=(n("a4d3"),n("e01a"),n("cb29"),n("4de4"),n("4160"),n("a15b"),n("d81d"),n("13d5"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("ac1f"),n("1276"),n("159b"),n("3835")),r=(n("96cf"),n("1da1")),o=n("5530"),l=n("2f62"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.localData,(function(t,a){return n("div",{key:a},["text"===e.schema[a].type?n("TextInput",{attrs:{value:e.localData[a],label:e.schema[a].label,limit:e.schema[a].limit,required:e.schema[a].required},on:{"update:value":function(t){return e.$set(e.localData,a,t)}}}):e._e(),"file"===e.schema[a].type?n("FileInput",{attrs:{value:e.localData[a],label:e.schema[a].label,icon:e.schema[a].icon,size:e.schema[a].size,accept:e.schema[a].accept,required:e.schema[a].required},on:{"update:value":function(t){return e.$set(e.localData,a,t)}}}):e._e(),"pdfFile"===e.schema[a].type?n("PdfInputs",{attrs:{pdfs:e.localData[a],options:e.schema[a]},on:{"update:pdfs":function(t){return e.$set(e.localData,a,t)}}}):e._e(),"textarea"===e.schema[a].type?n("TextAreaInput",{attrs:{value:e.localData[a],label:e.schema[a].label,limit:e.schema[a].limit,required:e.schema[a].required},on:{"update:value":function(t){return e.$set(e.localData,a,t)}}}):e._e()],1)})),0)},c=[],d=n("ade3"),p=n("9284"),h=n("9d48"),f=n("37e9"),v=n("761f"),m=n("00a4").default,b={props:{data:{type:Object,default:null}},name:"AddVideoItem",components:{TextInput:p["a"],TextAreaInput:h["a"],FileInput:f["a"],PdfInputs:v["a"]},data:function(){return{schema:m.item,localData:Object.entries(m.item).reduce((function(e,t){var n=Object(s["a"])(t,2),a=n[0],i=n[1],r="";return"pdfFile"===i.type&&(r=new Array(i.count).fill(null)),"file"===i.type&&(r=null),Object.assign(e,Object(d["a"])({},a,r))}),{})}},computed:{},watch:{localData:{deep:!0,handler:function(e){this.$emit("update:data",e)}}},methods:{}},x=b,g=n("2877"),y=Object(g["a"])(x,u,c,!1,null,null,null),V=y.exports,O=n("00a4").default,A={name:"AddCourseVideos",components:{AddVideoItem:V},data:function(){return{noValid:!1,isActive:!1,disabledSubmit:!1,expansionIndex:0,data:new Array(O.count).fill(null),validates:new Array(O.count).fill(!0)}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["e"])("auth",["user"])),Object(l["e"])("courses",["courses","queue"])),{},{validateFull:function(){return!this.validates.some((function(e){return!e}))},videos:function(){var e,t;return null!==(e=null===this||void 0===this||null===(t=this.courses)||void 0===t?void 0:t.videos)&&void 0!==e?e:[]}}),watch:{queue:function(e){e.length||(this.goToVideos(),this.disabledSubmit=!1)}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("courses",{getCourse:"GET_COURSE",addQueue:"ADD_QUEUE"})),{},{isEmtyObj:function(e){var t=this,n=Object.keys(e);return!n.reduce((function(n,a){return t.isEmty(e[a])?n:n+1}),0)},isEmty:function(e){var t=!e;return Array.isArray(e)&&(t=!e.some((function(e){return!!e}))),t},validationForms:function(){var e=this;return this.noValid=!1,this.data.map((function(t,n){if(!t||e.isEmtyObj(t))return e.$refs["form".concat(n)]&&e.$refs["form".concat(n)][0].resetValidation(),e.validates[n]=!0,null;var a=!e.$refs["form".concat(n)]||e.$refs["form".concat(n)][0].validate();return e.noValid=e.noValid||!a,e.noValid?(e.validates[n]=!1,null):(e.validates[n]=!0,t)}))},sendData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.validationForms(),e.$forceUpdate(),!e.noValid){t.next=4;break}return t.abrupt("return");case 4:if(n.some((function(e){return e}))){t.next=6;break}return t.abrupt("return");case 6:n.forEach((function(e){e&&(e.description=e.description.split(" ").filter((function(e){return e})).join(" "))})),e.disabledSubmit=!0,a=[],n.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,i){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:r=new FormData,Object.entries(n).forEach((function(e){var t=Object(s["a"])(e,2),a=t[0],i=t[1];Array.isArray(n[a])?Object.values(n[a]).forEach((function(e){return e&&r.append("files",e)})):n[a]instanceof File?r.append("files",i):r.append(a,i)})),a.push({id:e.$route.params.courseid,lesson:r,progress:0,error:!1,index:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e.addQueue(a);case 11:case"end":return t.stop()}}),t)})))()},toggleBtn:function(){this.isActive=!this.isActive},goToUserCourse:function(){this.$router.push({name:"user-course",params:{courseid:this.$route.params.courseid}})},goToVideos:function(){this.$router.push({name:"user-videos"})}}),created:function(){this.getCourse(this.$route.params.courseid)},beforeDestroy:function(){}},I=A,C=(n("65eb"),n("6544")),j=n.n(C),w=n("8336"),$=n("b0af"),D=n("99d9"),k=n("62ad"),_=n("a523"),E=n("cd55"),P=n("49e2"),B=n("c865"),q=n("0393"),F=n("4bd4"),S=n("0fd9"),M=Object(g["a"])(I,a,i,!1,null,null,null);t["default"]=M.exports;j()(M,{VBtn:w["a"],VCard:$["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:k["a"],VContainer:_["a"],VExpansionPanel:E["a"],VExpansionPanelContent:P["a"],VExpansionPanelHeader:B["a"],VExpansionPanels:q["a"],VForm:F["a"],VRow:S["a"]})},"3a9e":function(e,t,n){},"49e2":function(e,t,n){"use strict";var a=n("0789"),i=n("9d65"),s=n("a9ad"),r=n("3206"),o=n("80d2"),l=n("58df"),u=Object(l["a"])(i["a"],s["a"],Object(r["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));t["a"]=u.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var t=this;return e(a["a"],this.showLazyContent((function(){return[e("div",t.setBackgroundColor(t.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:t.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},Object(o["n"])(t))])]})))}})},"604c":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("4de4"),n("7db0"),n("c740"),n("4160"),n("caad"),n("c975"),n("fb6a"),n("a434"),n("a9e3"),n("2532"),n("159b");var a=n("5530"),i=(n("166a"),n("a452")),s=n("7560"),r=n("58df"),o=n("d9bd"),l=Object(r["a"])(i["a"],s["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return Object(a["a"])({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var e=this;return this.items.filter((function(t,n){return e.toggleMethod(e.getValue(t,n))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var e=this;if(!this.multiple)return function(t){return e.internalValue===t};var t=this.internalValue;return Array.isArray(t)?function(e){return t.includes(e)}:function(){return!1}}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(o["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(e,t){return null==e.value||""===e.value?t:e.value},onClick:function(e){this.updateInternalValue(this.getValue(e,this.items.indexOf(e)))},register:function(e){var t=this,n=this.items.push(e)-1;e.$on("change",(function(){return t.onClick(e)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(e,n)},unregister:function(e){if(!this._isDestroyed){var t=this.items.indexOf(e),n=this.getValue(e,t);this.items.splice(t,1);var a=this.selectedValues.indexOf(n);if(!(a<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(e){return e!==n})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(e,t){var n=this.getValue(e,t);e.isActive=this.toggleMethod(n)},updateItemsState:function(){var e=this;this.$nextTick((function(){if(e.mandatory&&!e.selectedItems.length)return e.updateMandatory();e.items.forEach(e.updateItem)}))},updateInternalValue:function(e){this.multiple?this.updateMultiple(e):this.updateSingle(e)},updateMandatory:function(e){if(this.items.length){var t=this.items.slice();e&&t.reverse();var n=t.find((function(e){return!e.disabled}));if(n){var a=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,a))}}},updateMultiple:function(e){var t=Array.isArray(this.internalValue)?this.internalValue:[],n=t.slice(),a=n.findIndex((function(t){return t===e}));this.mandatory&&a>-1&&n.length-1<1||null!=this.max&&a<0&&n.length+1>this.max||(a>-1?n.splice(a,1):n.push(e),this.internalValue=n)},updateSingle:function(e){var t=e===this.internalValue;this.mandatory&&t||(this.internalValue=t?void 0:e)}},render:function(e){return e(this.tag,this.genData(),this.$slots.default)}});l.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}})},"65eb":function(e,t,n){"use strict";n("3a9e")},"761f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",e._l(e.data,(function(t,a){return n("v-col",{key:a,staticClass:" py-0 py-lg-2",attrs:{cols:"12",sm:"12",lg:"4"}},[n("FileInput",{attrs:{value:e.data[a],label:e.options.label,icon:e.options.icon,size:e.options.size,accept:e.options.accept,required:e.options.required},on:{"update:value":function(t){return e.$set(e.data,a,t)}}})],1)})),1)},i=[],s=n("37e9"),r={props:{pdfs:{type:Array,required:!0},options:{type:Object,required:!0}},name:"PdfInputs",components:{FileInput:s["a"]},data:function(){return{}},computed:{data:{get:function(){return this.pdfs},set:function(e){this.$emit("update:pdfs",e)}}},watch:{},methods:{}},o=r,l=n("2877"),u=n("6544"),c=n.n(u),d=n("62ad"),p=n("0fd9"),h=Object(l["a"])(o,a,i,!1,null,"69936066",null);t["a"]=h.exports;c()(h,{VCol:d["a"],VRow:p["a"]})},c740:function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").findIndex,s=n("44d2"),r=n("ae40"),o="findIndex",l=!0,u=r(o);o in[]&&Array(1)[o]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},c865:function(e,t,n){"use strict";var a=n("5530"),i=n("0789"),s=n("9d26"),r=n("a9ad"),o=n("3206"),l=n("5607"),u=n("80d2"),c=n("58df"),d=Object(c["a"])(r["a"],Object(o["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));t["a"]=d.extend().extend({name:"v-expansion-panel-header",directives:{ripple:l["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=Object(u["n"])(this,"actions")||[this.$createElement(s["a"],this.expandIcon)];return this.$createElement(i["c"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var t=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object(a["a"])(Object(a["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return t.hasMousedown=!0},mouseup:function(){return t.hasMousedown=!1}})}),[Object(u["n"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},cd55:function(e,t,n){"use strict";var a=n("5530"),i=n("4e82"),s=n("3206"),r=n("80d2"),o=n("58df");t["a"]=Object(o["a"])(Object(i["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(s["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(a["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(r["n"])(this))}})}}]);
//# sourceMappingURL=add-course-videos.d247493b.js.map