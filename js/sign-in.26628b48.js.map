{"version":3,"sources":["webpack:///./src/config/signInSchema.js","webpack:///./src/views/SignIn.vue?fbda","webpack:///./src/views/SignIn.vue?1d82","webpack:///src/views/SignIn.vue","webpack:///./src/views/SignIn.vue?74a1","webpack:///./src/views/SignIn.vue?84e7"],"names":["email","label","type","required","password","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_v","_l","field","name","key","attrs","data","on","$event","$set","_e","rules","model","value","callback","$$v","isPoliticAgree","expression","loading","submit","staticRenderFns","components","EmailInput","PasswordInput","show","schema","Object","keys","reduce","computed","watch","isLogged","newVal","startPath","currentPath","$router","push","methods","$refs","form","validate","$store","dispatch","mounted","setTimeout","beforeDestroy","component","VBtn","VCheckbox","VForm"],"mappings":"oIAAA,OAAe,cACbA,MAAO,CACLC,MAAO,QACPC,KAAM,QACNC,UAAU,GAEZC,SAAU,CACRH,MAAO,WACPC,KAAM,WACNC,UAAU,K,oCCTd,W,2CCAA,IAAIE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAQ,KAAEI,EAAG,SAAS,CAACE,IAAI,OAAOC,YAAY,cAAc,CAACH,EAAG,MAAM,CAACG,YAAY,mCAAmC,CAACH,EAAG,KAAK,CAACJ,EAAIQ,GAAG,aAAaJ,EAAG,MAAM,CAACG,YAAY,wBAAwB,CAACP,EAAIS,GAAIT,EAAU,QAAE,SAASU,EAAMC,GAAM,OAAOP,EAAG,MAAM,CAACQ,IAAID,GAAM,CAAiB,UAAfD,EAAMd,KAAkBQ,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQb,EAAIc,KAAKH,GAAM,MAAQD,EAAMf,MAAM,SAAWe,EAAMb,SAAS,UAAW,GAAOkB,GAAG,CAAC,eAAe,SAASC,GAAQ,OAAOhB,EAAIiB,KAAKjB,EAAIc,KAAMH,EAAMK,OAAYhB,EAAIkB,KAAqB,aAAfR,EAAMd,KAAqBQ,EAAG,gBAAgB,CAACS,MAAM,CAAC,MAAQb,EAAIc,KAAKH,GAAM,MAAQD,EAAMf,MAAM,SAAWe,EAAMb,SAAS,UAAW,GAAOkB,GAAG,CAAC,eAAe,SAASC,GAAQ,OAAOhB,EAAIiB,KAAKjB,EAAIc,KAAMH,EAAMK,OAAYhB,EAAIkB,MAAM,MAAKd,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,CAACb,EAAImB,MAAMtB,UAAU,MAAQ,kCAAkCuB,MAAM,CAACC,MAAOrB,EAAkB,eAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,eAAeD,GAAKE,WAAW,qBAAqB,GAAGrB,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,QAAQ,CAACG,YAAY,gBAAgBM,MAAM,CAAC,MAAQ,UAAU,QAAU,GAAG,SAAWb,EAAI0B,SAASX,GAAG,CAAC,MAAQf,EAAI2B,SAAS,CAAC3B,EAAIQ,GAAG,cAAc,OAAOR,EAAIkB,MACzsCU,EAAkB,G,4HCwCtB,oBAEA,GACEjB,KAAM,SACNkB,WAAY,CACVC,WAAJ,OACIC,cAAJ,QAEEjB,KANF,WAOI,MAAO,CACLkB,MAAM,EACNC,OAAN,EACMT,gBAAgB,EAChBV,KAAMoB,OAAOC,KAAKF,GAAQG,QAAO,SAAvC,2DACMjB,MAAO,CACLtB,SAAU,SAAlB,sCAIEwC,SAAU,OAAZ,OAAY,CAAZ,GACA,+CAEEC,MAAO,CACLC,SADJ,SACA,GACM,GAAIC,EAAQ,CAEV,IAAR,sCACA,wCACQC,IAAcC,EAAczC,KAAK0C,QAAQC,KAAK,CAAtD,+CAEQ3C,KAAK0C,QAAQC,KAAK,CAA1B,gBAIEC,QAAS,CACPlB,OADJ,WAEM,GAAI1B,KAAK6C,MAAMC,KAAKC,WAAY,CAC9B,IAAR,8BACUlD,SAAU,EAApB,uCAEQG,KAAKgD,OAAOC,SAAS,eAAgBpC,MAI3CqC,QA1CF,WA0CA,WACIC,YAAW,WAAf,yBAEEC,cA7CF,cC3CgV,I,iFCQ5UC,EAAY,eACd,EACAvD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAA0B,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,YAAA,KAAUC,QAAA","file":"js/sign-in.26628b48.js","sourcesContent":["export default {\n  email: {\n    label: 'Email',\n    type: 'email',\n    required: true,\n  },\n  password: {\n    label: 'Password',\n    type: 'password',\n    required: true,\n  }\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=724936c3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('v-form',{ref:\"form\",staticClass:\"form mt-16\"},[_c('div',{staticClass:\"d-flex flex-column align-center\"},[_c('h2',[_vm._v(\"Sign in\")]),_c('div',{staticClass:\"input-container pa-4\"},[_vm._l((_vm.schema),function(field,name){return _c('div',{key:name},[(field.type === 'email')?_c('EmailInput',{attrs:{\"value\":_vm.data[name],\"label\":field.label,\"required\":field.required,\"outlined\":false},on:{\"update:value\":function($event){return _vm.$set(_vm.data, name, $event)}}}):_vm._e(),(field.type === 'password')?_c('PasswordInput',{attrs:{\"value\":_vm.data[name],\"label\":field.label,\"required\":field.required,\"outlined\":false},on:{\"update:value\":function($event){return _vm.$set(_vm.data, name, $event)}}}):_vm._e()],1)}),_c('v-checkbox',{attrs:{\"rules\":[_vm.rules.required],\"label\":\" Agree to terms and conditions\"},model:{value:(_vm.isPoliticAgree),callback:function ($$v) {_vm.isPoliticAgree=$$v},expression:\"isPoliticAgree\"}})],2),_c('div',{staticClass:\"d-flex\"},[_c('v-btn',{staticClass:\"yellow-button\",attrs:{\"color\":\"buttons\",\"rounded\":\"\",\"disabled\":_vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"sign in\")])],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-form ref=\"form\" class=\"form mt-16\" v-if=\"show\">\n    <div class=\"d-flex flex-column align-center\">\n      <h2>Sign in</h2>\n      <div class=\"input-container pa-4\">\n        <div v-for=\"(field, name) in schema\" :key=\"name\">\n          <EmailInput\n            v-if=\"field.type === 'email'\"\n            :value.sync=\"data[name]\"\n            :label=\"field.label\"\n            :required=\"field.required\"\n            :outlined=\"false\"\n          />\n          <PasswordInput\n            v-if=\"field.type === 'password'\"\n            :value.sync=\"data[name]\"\n            :label=\"field.label\"\n            :required=\"field.required\"\n            :outlined=\"false\"\n          />\n        </div>\n        <v-checkbox\n          v-model=\"isPoliticAgree\"\n          :rules=\"[rules.required]\"\n          label=\" Agree to terms and conditions\"\n        ></v-checkbox>\n      </div>\n      <div class=\"d-flex\">\n        <v-btn @click=\"submit\" color=\"buttons\" rounded :disabled=\"loading\" class=\"yellow-button\">sign in</v-btn>\n      </div>\n    </div>\n  </v-form>\n</template>\n\n<script>\nimport sha256 from 'crypto-js/sha256';\nimport Base64 from 'crypto-js/enc-base64';\nimport { mapState } from 'vuex';\nimport EmailInput from '@/components/inputs/EmailInput.vue';\nimport PasswordInput from '@/components/inputs/PasswordInput.vue';\n\nconst schema = require('@/config/signInSchema').default;\n\nexport default {\n  name: 'SignIn',\n  components: {\n    EmailInput,\n    PasswordInput,\n  },\n  data() {\n    return {\n      show: false,\n      schema,\n      isPoliticAgree: false,\n      data: Object.keys(schema).reduce((acc, key) => Object.assign(acc, { [key]: '' }), {}),\n      rules: {\n        required: v => !!v || 'input is required',\n      },\n    };\n  },\n  computed: {\n    ...mapState('auth', ['isLogged', 'loading']),\n  },\n  watch: {\n    isLogged(newVal) {\n      if (newVal) {\n        // this.$router.push({ name: 'user-cabinet'})\n        const startPath = this.$router.history._startLocation;\n        const currentPath = this.$router.history.current.fullPath;\n        startPath === currentPath ? this.$router.push({ name: 'user-cabinet' }) : this.$router.back();\n      } else {\n        this.$router.push({ name: 'home' });\n      }\n    },\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        const data = Object.assign({}, this.data, {\n          password: Base64.stringify(sha256(this.data.password)),\n        });\n        this.$store.dispatch('auth/SIGN_IN', data);\n      }\n    },\n  },\n  mounted() {\n    setTimeout(() => (this.show = true), 500);\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style scoped>\n.input-container {\n  min-width: 350px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=724936c3&scoped=true&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignIn.vue?vue&type=style&index=0&id=724936c3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"724936c3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VBtn,VCheckbox,VForm})\n"],"sourceRoot":""}