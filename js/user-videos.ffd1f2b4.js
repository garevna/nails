(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-videos"],{"15e4":function(e,t,i){"use strict";i("7625")},"2bc5":function(e,t,i){"use strict";i("a15b");var s=i("5530"),r=(i("abd3"),i("f625")),o=i("80d2"),a=Object(o["i"])("v-breadcrumbs__divider","li"),l=i("7560"),n=i("58df");t["a"]=Object(n["a"])(l["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(a,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,i=[],s=0;s<this.items.length;s++){var o=this.items[s];i.push(o.text),t?e.push(this.$scopedSlots.item({item:o})):e.push(this.$createElement(r["a"],{key:i.join("."),props:o},[o.text])),s<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},7625:function(e,t,i){},"7d77":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12"}},[i("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[i("v-breadcrumbs-item",{attrs:{disabled:s.disabled}},[i("router-link",{class:{"disabled-link":s.disabled},attrs:{to:s.href}},[e._v(" "+e._s(s.text.toUpperCase()))])],1)]}}])})],1),e.noVideos?i("v-col",{attrs:{cols:"12",xs:"12"}},[i("h2",{attrs:{align:"center"}},[e._v("You don't have video yet")])]):e._e(),e.ready?e._e():i("v-col",{attrs:{cols:"12",xs:"12"}},[i("Spinner")],1),e._l(e.videos,(function(t,s){return i("v-col",{key:t._id,attrs:{cols:"12",xs:"12","offset-sm":"2",sm:"8","offset-md":"0",md:"6",lg:"4"}},[e.videos&&!e.showForm?i("v-card",{staticClass:"my-8",on:{click:function(i){return e.goToDetailVideo(t._id)}}},[i("v-card-title",{staticClass:"d-flex justify-center"},[i("h2",[e._v(" "+e._s(t.name)+" ")])]),i("v-img",{attrs:{src:e.coverImage(s),height:"350px"}}),i("v-card-actions",{staticClass:"d-flex justify-end"},[i("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(i){i.stopPropagation(),e.dialog=!0,e.deleteId=t._id}}},[e._v("Delete")])],1)],1):e._e()],1)})),e.showForm?i("v-col",{attrs:{cols:"12",xs:"12","offset-sm":"2",sm:"8","offset-md":"3",md:"6"}},[i("v-form",{ref:"form"},[i("v-text-field",{attrs:{label:"name of video",rules:[e.rules.required],outlined:""},model:{value:e.nameOfVideo,callback:function(t){e.nameOfVideo=t},expression:"nameOfVideo"}}),i("v-file-input",{attrs:{"show-size":"",label:"add video file","prepend-icon":"mdi-video",rules:[e.rules.required,e.rules.videoRule],outlined:""},model:{value:e.videoFile,callback:function(t){e.videoFile=t},expression:"videoFile"}}),e.uploading?i("v-progress-linear",{staticClass:"my-4",attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),i("div",[i("v-textarea",{attrs:{label:"description",rules:[e.rules.required],outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),i("div",[i("v-file-input",{attrs:{"show-size":"",accept:"image/png, image/jpeg, image/bmp",rules:[e.rules.imageRule],"prepend-icon":"mdi-camera",label:"add cover image",outlined:""},model:{value:e.imgFile,callback:function(t){e.imgFile=t},expression:"imgFile"}})],1),i("div",{staticClass:"d-flex flex-column flex-md-row"},[i("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[0],callback:function(t){e.$set(e.pdfFiles,0,t)},expression:"pdfFiles[0]"}}),i("v-file-input",{staticClass:"mx-md-4",attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[1],callback:function(t){e.$set(e.pdfFiles,1,t)},expression:"pdfFiles[1]"}}),i("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[2],callback:function(t){e.$set(e.pdfFiles,2,t)},expression:"pdfFiles[2]"}})],1)],1),i("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center my-8"},[i("v-btn",{staticClass:"yellow-button mr-sm-4 mb-8 mb-sm-0",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){return e.clearFormInputs()}}},[e._v("Cansel")]),i("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.sendData}},[e._v("Submit")])],1)],1):e._e(),e.showBtnAddVideo?i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",xs:"12"}},[i("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){e.showForm=!0}}},[e._v(" add video")])],1):e._e(),i("v-dialog",{attrs:{persistent:"","max-width":"320"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[e._v(" Do you really want to remove video ?")]),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",text:""},on:{click:e.canselHandler}},[e._v(" Disagree ")]),i("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",text:""},on:{click:e.deleteVideo}},[e._v(" Agree ")])],1)],1)],1)],2)],1)},r=[],o=(i("a4d3"),i("e01a"),i("cb29"),i("4160"),i("4fad"),i("07ac"),i("9911"),i("159b"),i("3835")),a=i("5530"),l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"bouncer"},[i("div"),i("div"),i("div"),i("div")])])}],d={},c=d,u=(i("15e4"),i("2877")),f=Object(u["a"])(c,l,n,!1,null,"0ac47c3e",null),m=f.exports,h=i("2f62"),v={components:{Spinner:m},data:function(){return{courseId:this.$route.params.courseid,videos:null,ready:!1,showForm:!1,course:null,dialog:!1,deleteId:null,coverImageSrc:i("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid)},{text:"videos",disabled:!0,href:"#"}],nameOfVideo:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null),rules:{videoRule:function(e){return(null===e||void 0===e?void 0:e.size)<1e9||"Video size should be less than 1 GB!"},imageRule:function(e){return!e||e.size<2e6||"Image size should be less than 2 MB!"},pdfRule:function(e){return!e||e.size<1e8||"Video size should be less than 100 MB!"},required:function(e){return!!e||"input is required"}}}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(h["b"])("userCourses",["currentCourse","currentCourseId","currentCourseVideos","uploading"])),Object(h["b"])("auth",["user"])),{},{noVideos:function(){var e;return!(null===this||void 0===this||null===(e=this.videos)||void 0===e?void 0:e.length)&&this.ready},showBtnAddVideo:function(){var e;return!this.showForm&&this.ready&&(null===this||void 0===this||null===(e=this.videos)||void 0===e?void 0:e.length)<5}}),watch:{user:function(e){e&&this.fillingInTheFields()},course:function(e){e&&(this.items[2].text="".concat(e.nameOfCourse))},currentCourse:function(e){e&&(this.course=e,this.fillingInTheFields())},currentCourseVideos:function(e){e&&(this.course=this.currentCourse,this.videos=this.currentCourseVideos,this.showForm=!1,this.ready=!0)}},methods:{clearFormInputs:function(){this.nameOfVideo="",this.videoFile=null,this.description="",this.imgFile=null,this.pdfFiles=new Array(3).fill(null),this.showForm=!1},canselHandler:function(){this.dialog=!1,this.deleteId=null},fillingInTheFields:function(){this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses")},deleteVideo:function(){this.$store.dispatch("userCourses/REMOVE_VIDEO_COURSE",{id:this.deleteId,courseId:this.courseId}),this.dialog=!1,this.deleteId=null},coverImage:function(e){var t;return(null===(t=this.videos[e].coverImg)||void 0===t?void 0:t.link)||this.coverImageSrc},sendData:function(){var e={name:this.nameOfVideo,videoFile:this.videoFile,description:this.description,imgFile:this.imgFile,pdfFiles:this.pdfFiles},t=new FormData;Object.entries(e).forEach((function(i){var s=Object(o["a"])(i,2),r=s[0],a=s[1];Array.isArray(a)?Object.values(e[r]).forEach((function(e){e&&t.append("files",e)})):a instanceof File?t.append("files",a):a&&t.append(r,a)})),this.$refs.form.validate()&&(this.$store.dispatch("userCourses/CREATE_VIDEOS_COURSE",{fd:t,id:this.courseId}),this.clearFormInputs())},goToDetailVideo:function(e){this.$router.push({name:"user-video",params:{videoid:e}})}},created:function(){this.currentCourseId!==this.courseId?this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId):(this.fillingInTheFields(),this.items[2].text="".concat(this.currentCourse.nameOfCourse),this.course=this.currentCourse,this.videos=this.currentCourseVideos,this.ready=!0)}},p=v,b=i("6544"),g=i.n(b),x=i("2bc5"),C=i("f625"),F=i("8336"),_=i("b0af"),w=i("99d9"),V=i("62ad"),y=i("a523"),I=i("169a"),O=i("23a7"),j=i("4bd4"),k=i("adda"),$=i("8e36"),E=i("0fd9"),R=i("8654"),S=i("a844"),D=Object(u["a"])(p,s,r,!1,null,null,null);t["default"]=D.exports;g()(D,{VBreadcrumbs:x["a"],VBreadcrumbsItem:C["a"],VBtn:F["a"],VCard:_["a"],VCardActions:w["a"],VCardTitle:w["c"],VCol:V["a"],VContainer:y["a"],VDialog:I["a"],VFileInput:O["a"],VForm:j["a"],VImg:k["a"],VProgressLinear:$["a"],VRow:E["a"],VTextField:R["a"],VTextarea:S["a"]})},abd3:function(e,t,i){},f625:function(e,t,i){"use strict";var s=i("5530"),r=i("ade3"),o=i("1c87"),a=i("58df");t["a"]=Object(a["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),i=t.tag,r=t.data;return e("li",[e(i,Object(s["a"])(Object(s["a"])({},r),{},{attrs:Object(s["a"])(Object(s["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})}}]);
//# sourceMappingURL=user-videos.ffd1f2b4.js.map