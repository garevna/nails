(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-videos"],{"15e4":function(e,t,s){"use strict";s("7625")},"2bc5":function(e,t,s){"use strict";s("a15b");var i=s("5530"),r=(s("abd3"),s("f625")),a=s("80d2"),o=Object(a["i"])("v-breadcrumbs__divider","li"),n=s("7560"),l=s("58df");t["a"]=Object(l["a"])(n["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(o,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,s=[],i=0;i<this.items.length;i++){var a=this.items[i];s.push(a.text),t?e.push(this.$scopedSlots.item({item:a})):e.push(this.$createElement(r["a"],{key:s.join("."),props:a},[a.text])),i<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"67bf":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-img",{attrs:{src:e.imageUrl,height:e.height},on:{error:e.onError}})],1)},r=[],a={props:["url","height"],data:function(){return{imageUrl:this.url,coverImageSrc:s("7e1a")}},methods:{onError:function(){this.imageUrl=this.coverImageSrc}}},o=a,n=s("2877"),l=s("6544"),d=s.n(l),c=s("adda"),u=Object(n["a"])(o,i,r,!1,null,null,null);t["a"]=u.exports;d()(u,{VImg:c["a"]})},7625:function(e,t,s){},"7d77":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{staticClass:"d-flex justify-start",attrs:{cols:"12",xs:"12"}},[s("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("v-breadcrumbs-item",{attrs:{disabled:i.disabled}},[s("router-link",{class:{"disabled-link":i.disabled},attrs:{to:i.href}},[e._v(" "+e._s(i.text.toUpperCase()))])],1)]}}])})],1),s("v-col",{attrs:{cols:"12",xs:"12"}},[s("h2",{attrs:{align:"center"}},[e._v(e._s(e.currentCourse.nameOfCourse))])]),e.noVideos?s("v-col",{attrs:{cols:"12",xs:"12"}},[s("h2",{attrs:{align:"center"}},[e._v("You don't have video yet")])]):e._e(),e.ready?e._e():s("v-col",{attrs:{cols:"12",xs:"12"}},[s("Spinner")],1),e._l(e.videos,(function(t,i){return s("v-col",{key:t._id,attrs:{cols:"12",xs:"12",sm:"6",lg:"4"}},[e.videos&&!e.showForm?s("v-card",{staticClass:"my-8",on:{click:function(s){return e.goToDetailVideo(t._id)}}},[s("v-card-title",{staticClass:"d-flex justify-center"},[s("h2",[e._v(" "+e._s(t.name)+" ")])]),s("CoverImage",{attrs:{url:e.coverImage(i),height:350}}),s("v-card-actions",{staticClass:"d-flex justify-end"},[s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(s){s.stopPropagation(),e.dialog=!0,e.deleteId=t._id}}},[e._v("Delete")])],1)],1):e._e()],1)})),e.showForm?e._e():s("v-col",{attrs:{cols:"12",xs:"12"}},[s("h3",{attrs:{align:"center"}},[e._v(e._s(e.currentCourse.description))])]),e.showForm?s("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"name of video",rules:[e.rules.required],outlined:""},model:{value:e.nameOfVideo,callback:function(t){e.nameOfVideo=t},expression:"nameOfVideo"}}),s("v-file-input",{attrs:{"show-size":"",label:"add video file","prepend-icon":"mdi-video",rules:[e.rules.required,e.rules.videoRule],outlined:""},model:{value:e.videoFile,callback:function(t){e.videoFile=t},expression:"videoFile"}}),e.uploading?s("v-progress-linear",{staticClass:"my-4",attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),s("div",[s("v-textarea",{attrs:{label:"description",rules:[e.rules.required],outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),s("div",[s("v-file-input",{attrs:{"show-size":"",accept:"image/png, image/jpeg, image/bmp",rules:[e.rules.imageRule],"prepend-icon":"mdi-camera",label:"add cover image",outlined:""},model:{value:e.imgFile,callback:function(t){e.imgFile=t},expression:"imgFile"}})],1),s("div",{staticClass:"d-flex flex-column flex-md-row"},[s("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[0],callback:function(t){e.$set(e.pdfFiles,0,t)},expression:"pdfFiles[0]"}}),s("v-file-input",{staticClass:"mx-md-4",attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[1],callback:function(t){e.$set(e.pdfFiles,1,t)},expression:"pdfFiles[1]"}}),s("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"add pdf file",outlined:""},model:{value:e.pdfFiles[2],callback:function(t){e.$set(e.pdfFiles,2,t)},expression:"pdfFiles[2]"}})],1)],1),s("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center my-8"},[s("v-btn",{staticClass:"yellow-button mr-sm-4 mb-8 mb-sm-0",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){return e.clearFormInputs()}}},[e._v("Cansel")]),s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.sendData}},[e._v("Submit")])],1)],1):e._e(),e.showBtnAddVideo?s("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",xs:"12"}},[s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){e.showForm=!0}}},[e._v(" add video")])],1):e._e(),s("v-dialog",{attrs:{persistent:"","max-width":"320"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[e._v(" Do you really want to remove video ?")]),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",text:""},on:{click:e.canselHandler}},[e._v(" Disagree ")]),s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",text:""},on:{click:e.deleteVideo}},[e._v(" Agree ")])],1)],1)],1)],2)],1)},r=[],a=(s("a4d3"),s("e01a"),s("cb29"),s("4160"),s("4fad"),s("07ac"),s("9911"),s("159b"),s("3835")),o=s("5530"),n=s("2f62"),l=s("67bf"),d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"bouncer"},[s("div"),s("div"),s("div"),s("div")])])}],u={},f=u,h=(s("15e4"),s("2877")),m=Object(h["a"])(f,d,c,!1,null,"0ac47c3e",null),v=m.exports,p={components:{Spinner:v,CoverImage:l["a"]},data:function(){return{courseId:this.$route.params.courseid,videos:null,ready:!1,showForm:!1,course:null,dialog:!1,deleteId:null,coverImageSrc:s("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid)},{text:"videos",disabled:!0,href:"#"}],nameOfVideo:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null),rules:{videoRule:function(e){return(null===e||void 0===e?void 0:e.size)<1e9||"Video size should be less than 1 GB!"},imageRule:function(e){return!e||e.size<2e6||"Image size should be less than 2 MB!"},pdfRule:function(e){return!e||e.size<1e8||"Video size should be less than 100 MB!"},required:function(e){return!!e||"input is required"}}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["b"])("userCourses",["currentCourse","currentCourseId","currentCourseVideos","uploading"])),Object(n["b"])("auth",["user"])),{},{noVideos:function(){var e;return!(null===this||void 0===this||null===(e=this.videos)||void 0===e?void 0:e.length)&&this.ready},showBtnAddVideo:function(){var e;return!this.showForm&&this.ready&&(null===this||void 0===this||null===(e=this.videos)||void 0===e?void 0:e.length)<5}}),watch:{user:function(e){e&&this.fillingInTheFields()},course:function(e){e&&(this.items[2].text="".concat(e.nameOfCourse))},currentCourse:function(e){e&&(this.course=e,this.fillingInTheFields())},currentCourseVideos:function(e){e&&(this.course=this.currentCourse,this.videos=this.currentCourseVideos,this.showForm=!1,this.ready=!0)}},methods:{clearFormInputs:function(){this.nameOfVideo="",this.videoFile=null,this.description="",this.imgFile=null,this.pdfFiles=new Array(3).fill(null),this.showForm=!1},canselHandler:function(){this.dialog=!1,this.deleteId=null},fillingInTheFields:function(){this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses")},deleteVideo:function(){this.$store.dispatch("userCourses/REMOVE_VIDEO_COURSE",{id:this.deleteId,courseId:this.courseId}),this.dialog=!1,this.deleteId=null},coverImage:function(e){var t;return(null===(t=this.videos[e].coverImg)||void 0===t?void 0:t.link)||this.coverImageSrc},sendData:function(){var e={name:this.nameOfVideo,videoFile:this.videoFile,description:this.description,imgFile:this.imgFile,pdfFiles:this.pdfFiles},t=new FormData;Object.entries(e).forEach((function(s){var i=Object(a["a"])(s,2),r=i[0],o=i[1];Array.isArray(o)?Object.values(e[r]).forEach((function(e){e&&t.append("files",e)})):o instanceof File?t.append("files",o):o&&t.append(r,o)})),this.$refs.form.validate()&&(this.$store.dispatch("userCourses/CREATE_VIDEOS_COURSE",{fd:t,id:this.courseId}),this.clearFormInputs())},goToDetailVideo:function(e){this.$router.push({name:"user-video",params:{videoid:e}})}},created:function(){this.currentCourseId!==this.courseId?this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId):(this.fillingInTheFields(),this.items[2].text="".concat(this.currentCourse.nameOfCourse),this.course=this.currentCourse,this.videos=this.currentCourseVideos,this.ready=!0)}},b=p,g=s("6544"),C=s.n(g),x=s("2bc5"),_=s("f625"),F=s("8336"),w=s("b0af"),V=s("99d9"),y=s("62ad"),I=s("a523"),O=s("169a"),j=s("23a7"),k=s("4bd4"),$=s("8e36"),E=s("0fd9"),S=s("8654"),R=s("a844"),D=Object(h["a"])(b,i,r,!1,null,null,null);t["default"]=D.exports;C()(D,{VBreadcrumbs:x["a"],VBreadcrumbsItem:_["a"],VBtn:F["a"],VCard:w["a"],VCardActions:V["a"],VCardTitle:V["c"],VCol:y["a"],VContainer:I["a"],VDialog:O["a"],VFileInput:j["a"],VForm:k["a"],VProgressLinear:$["a"],VRow:E["a"],VTextField:S["a"],VTextarea:R["a"]})},abd3:function(e,t,s){},f625:function(e,t,s){"use strict";var i=s("5530"),r=s("ade3"),a=s("1c87"),o=s("58df");t["a"]=Object(o["a"])(a["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),s=t.tag,r=t.data;return e("li",[e(s,Object(i["a"])(Object(i["a"])({},r),{},{attrs:Object(i["a"])(Object(i["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})}}]);
//# sourceMappingURL=user-videos.c902abe8.js.map