(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-course"],{"2bc5":function(e,t,s){"use strict";s("a15b");var r=s("5530"),i=(s("abd3"),s("f625")),o=s("80d2"),a=Object(o["i"])("v-breadcrumbs__divider","li"),u=s("7560"),n=s("58df");t["a"]=Object(n["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(a,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,s=[],r=0;r<this.items.length;r++){var o=this.items[r];s.push(o.text),t?e.push(this.$scopedSlots.item({item:o})):e.push(this.$createElement(i["a"],{key:s.join("."),props:o},[o.text])),r<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"3bf8":function(e,t,s){},"3eb5":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("v-breadcrumbs-item",{attrs:{disabled:r.disabled}},[s("router-link",{class:{"disabled-link-dark":r.disabled},attrs:{to:r.href}},[e._v(" "+e._s(r.text.toUpperCase()))])],1)]}}])}),e.ready&&!e.showForm?s("CourseCardDetail",{attrs:{category:e.course.category,days:e.course.accessDays,nameOfCourse:e.course.nameOfCourse,subtitle:e.course.subtitle,price:e.course.price,author:e.course.author,instructor:e.course.instructor,infoBonus:e.course.infoBonus,courseSuitable:e.course.thisCourseIsSuitableFor,description:e.course.description,dateOfCourses:e.course.dateOfCourses,url:e.checkUrl(e.course),type:e.typeCourse,coverImageSrc:e.coverImageSrc,btnTitle:"BUY THIS COURSE",btnCallBack:null,isPaid:e.course.isPaid,isPublished:e.course.isPublished}}):e._e(),e.showForm?s("EditCourseForm",{attrs:{editCourseById:e.editCourseById,typeCourse:e.typeCourse,course:e.course,back:e.backForm,coverImageSrc:e.coverImageSrc}}):e._e(),s("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center mt-8"},[e.showForm?e._e():s("v-btn",{staticClass:"yellow-button my-8 my-sm-0 mr-sm-8",attrs:{color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:function(t){e.showForm=!0}}},[e._v("Edit")]),e.showForm?e._e():s("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:e.goToVideos}},[e._v("Videos")])],1)],1)},i=[],o=(s("b0c0"),s("9911"),s("5530")),a=s("2f62"),u=(s("71b9"),s("b687"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",xs:"12",md:"7"}},[s("v-btn",{on:{click:e.back}},[e._v("back")]),s("v-form",{ref:"form"},[s("v-row",[s("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[s("v-text-field",{attrs:{rules:[e.rules.required],label:"Category",outlined:"",dark:""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),s("v-text-field",{attrs:{rules:[e.rules.required],label:"Name of Course",outlined:"",dark:"",counter:27,maxlength:"27"},model:{value:e.nameOfCourse,callback:function(t){e.nameOfCourse=t},expression:"nameOfCourse"}}),s("v-text-field",{attrs:{rules:[e.rules.required],label:"Subtitle",outlined:"",dark:"",counter:32,maxlength:"32"},model:{value:e.subtitle,callback:function(t){e.subtitle=t},expression:"subtitle"}}),"offline"===e.typeCourse?s("div",[e._l(e.dateOfCourses,(function(t,r){return s("div",{key:r,staticClass:"d-flex input-container"},[s("v-text-field",{attrs:{label:e.labelDateOfCourse,rules:[e.rules.required],outlined:"",dark:""},model:{value:e.dateOfCourses[r],callback:function(t){e.$set(e.dateOfCourses,r,t)},expression:"dateOfCourses[i]"}}),0!==r?s("v-btn",{staticClass:"remove",on:{click:function(t){return e.removeField(r,"")}}},[s("v-icon",[e._v("mdi-delete")])],1):e._e()],1)})),s("div",{staticClass:"d-flex justify-end mb-8"},[s("v-btn",{on:{click:function(t){return e.addField("")}}},[s("v-icon",[e._v("mdi-plus")])],1)],1),s("v-text-field",{attrs:{label:"available spots",rules:[e.rules.required,e.rules.onlyDigits],outlined:"",dark:""},model:{value:e.availableSpots,callback:function(t){e.availableSpots=t},expression:"availableSpots"}})],2):e._e(),s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.onlyDigits],label:"Access (days)",outlined:"",dark:""},model:{value:e.days,callback:function(t){e.days=t},expression:"days"}}),s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.onlyDigits],label:"price",outlined:"",dark:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),s("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[s("v-text-field",{attrs:{rules:[e.rules.required],label:"Author",outlined:"",dark:""},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}}),s("v-text-field",{attrs:{rules:[e.rules.required],label:"Instructor",outlined:"",dark:""},model:{value:e.instructor,callback:function(t){e.instructor=t},expression:"instructor"}}),s("v-text-field",{attrs:{rules:[e.rules.required],label:"Info for bonus",outlined:"",dark:""},model:{value:e.infoBonus,callback:function(t){e.infoBonus=t},expression:"infoBonus"}}),e._l(e.courseSuitable,(function(t,r){return s("div",{key:r,staticClass:"d-flex input-container"},[s("v-text-field",{attrs:{label:e.labelForSuitable,rules:[e.rules.required],outlined:"",dark:""},model:{value:e.courseSuitable[r],callback:function(t){e.$set(e.courseSuitable,r,t)},expression:"courseSuitable[i]"}}),0!==r?s("v-btn",{staticClass:"remove",on:{click:function(t){return e.removeField(r,"suitable")}}},[s("v-icon",[e._v("mdi-delete")])],1):e._e()],1)})),s("div",{staticClass:"d-flex justify-end mb-8"},[s("v-btn",{on:{click:function(t){return e.addField("suitable")}}},[s("v-icon",[e._v("mdi-plus")])],1)],1),s("v-textarea",{attrs:{rules:[e.rules.required],label:"Description",outlined:"",dark:"","no-resize":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-file-input",{attrs:{color:"deep-purple accent-4",label:"Cover picture",placeholder:"Select your file","prepend-icon":"mdi-paperclip",outlined:"",dark:"","show-size":1e3},on:{change:e.Preview_image},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),s("v-btn",{staticClass:"yellow-button mt-4 mr-8",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:e.cancelHandler}},[e._v("cancel")]),s("v-btn",{staticClass:"yellow-button mt-4",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:e.checkForm}},[e._v("submit")])],2)],1)],1)],1),s("v-col",{staticClass:"d-flex flex-column justify-space-between align-center",attrs:{cols:"12",xs:"12",md:"5"}},[s("CourseCard",{attrs:{accessDays:e.days,url:e.url,name:e.nameOfCourse,subtitle:e.subtitle,price:e.price,type:e.typeCourse,coverImageSrc:e.coverImageSrc}})],1),s("CourseCardDetail",{attrs:{category:e.category,days:e.days,nameOfCourse:e.nameOfCourse,subtitle:e.subtitle,price:e.price,author:e.author,instructor:e.instructor,infoBonus:e.infoBonus,courseSuitable:e.courseSuitable,description:e.description,dateOfCourses:e.dateOfCourses,url:e.url,type:e.typeCourse,coverImageSrc:e.coverImageSrc,btnTitle:"online"===e.typeCourse?"APPLY":"BY THIS COURSE"}})],1)],1)}),n=[],c=(s("a4d3"),s("e01a"),s("4160"),s("a434"),s("a9e3"),s("4fad"),s("d3b7"),s("3ca3"),s("159b"),s("ddb0"),s("2b3d"),s("3835")),l=s("a523"),d=s("0fd9"),f=s("62ad"),b=s("8654"),h=s("4bd4"),m=s("8336"),p=s("a844"),v=s("23a7"),C=s("132d"),y=(s("1715"),s("3156"),{components:{VContainer:l["a"],VRow:d["a"],VCol:f["a"],VTextField:b["a"],VForm:h["a"],VBtn:m["a"],VTextarea:p["a"],VFileInput:v["a"],VIcon:C["a"]},name:"course-form",props:["typeCourse","course","back","coverImageSrc","editCourseById"],data:function(){return{category:"",nameOfCourse:"",subtitle:"",days:"",price:"",author:"",instructor:"",infoBonus:"",labelForSuitable:"This course is suitable for",description:"",file:[],dateOfCourses:[""],availableSpots:"",courseSuitable:[""],labelDateOfCourse:"date of the course",url:null,type:"",copyDateOfCourses:null,rules:{required:function(e){return!!e||"input is required"},minLengthName:function(e){return e.length<=15||"the maximum number of characters entered"},onlyDigits:function(e){return!/\D/g.test(e)||"input should consist only of digits"}}}},watch:{},methods:{Preview_image:function(){this.url=URL.createObjectURL(this.file)},checkForm:function(){this.$refs.form.validate()&&this.submitHandler()},addField:function(e){return e?this.courseSuitable.push(""):this.dateOfCourses.push("")},removeField:function(e,t){return t?this.courseSuitable.splice(e,1):this.dateOfCourses.splice(e,1)},cancelHandler:function(){this.back()},submitHandler:function(){var e={category:this.category,nameOfCourse:this.nameOfCourse,subtitle:this.subtitle,accessDays:Number(this.days),price:Number(this.price),author:this.author,instructor:this.instructor,infoForBonus:this.infoBonus,description:this.description,file:this.file},t=new FormData;Object.entries(e).forEach((function(e){var s=Object(c["a"])(e,2),r=s[0],i=s[1];return t.append(r,i)})),this.courseSuitable.forEach((function(e){return t.append("thisCourseIsSuitableFor[]",e)})),this.editCourseById(t)}},mounted:function(){this.category=this.course.category,this.nameOfCourse=this.course.nameOfCourse,this.subtitle=this.course.subtitle,this.days=this.course.accessDays,this.price=this.course.price,this.author=this.course.author,this.instructor=this.course.instructor,this.infoBonus=this.course.infoForBonus,this.description=this.course.description,this.url=this.course.photo[0].link,this.courseSuitable=this.course.thisCourseIsSuitableFor},created:function(){window.onbeforeunload=function(){return"Are you sure you want to leave?"}},beforeDestroy:function(){window.onbeforeunload=function(){return null}}}),k=y,g=s("2877"),x=s("6544"),O=s.n(x),S=Object(g["a"])(k,u,n,!1,null,"a2bab488",null),I=S.exports;O()(S,{VBtn:m["a"],VCol:f["a"],VContainer:l["a"],VFileInput:v["a"],VForm:h["a"],VIcon:C["a"],VRow:d["a"],VTextField:b["a"],VTextarea:p["a"]});var w={components:{EditCourseForm:I},data:function(){return{courseId:this.$route.params.courseid,course:null,ready:!1,typeCourse:"online",showForm:!1,coverImageSrc:s("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!0,href:"#"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(a["b"])("userCourses",["userCourses","currentCourse","currentCourseId"])),Object(a["b"])("auth",["user"])),watch:{user:function(e){this.fillingInTheFields()},course:function(e){this.items[2].text="".concat(e.nameOfCourse)},currentCourse:function(e){e&&(this.course=e,this.showForm=!1,this.ready=!0)}},methods:{checkUrl:function(e){var t;return e.photo&&Array.isArray(e.photo)&&e.photo.length&&(t=e.photo[0].link),t||(t=this.coverImageSrc),t},fillingInTheFields:function(){this.user&&(this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses"))},editCourseById:function(e){this.$store.dispatch("userCourses/PUT_USER_COURSE_ID",{data:e,id:this.courseId})},backForm:function(){this.showForm=!1},goToVideos:function(){"user-videos"!==this.$route.name&&this.$router.push({name:"user-videos"})}},created:function(){this.fillingInTheFields(),this.currentCourseId!==this.courseId?this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId):(this.items[2].text="".concat(this.currentCourse.nameOfCourse),this.course=this.currentCourse,this.ready=!0)}},_=w,F=(s("9f89"),s("2bc5")),B=s("f625"),j=Object(g["a"])(_,r,i,!1,null,"6ccee060",null);t["default"]=j.exports;O()(j,{VBreadcrumbs:F["a"],VBreadcrumbsItem:B["a"],VBtn:m["a"]})},"9f89":function(e,t,s){"use strict";s("3bf8")},abd3:function(e,t,s){},f625:function(e,t,s){"use strict";var r=s("5530"),i=s("ade3"),o=s("1c87"),a=s("58df");t["a"]=Object(a["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),s=t.tag,i=t.data;return e("li",[e(s,Object(r["a"])(Object(r["a"])({},i),{},{attrs:Object(r["a"])(Object(r["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})}}]);
//# sourceMappingURL=user-course.d719d367.js.map