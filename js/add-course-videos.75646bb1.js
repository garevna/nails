(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["add-course-videos"],{"0953":function(e,i,t){"use strict";t("5f47")},"29fb":function(e,i,t){"use strict";t.r(i);var l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-container",[t("v-row",[t("v-col",{staticClass:"d-flex justify-center justify-md-end",attrs:{cols:"12",xs:"12",md:"6"}},[t("v-btn",{staticClass:"yellow-button",class:{"button-unactive":e.isActive},attrs:{rounded:"",color:"buttons",large:"",dark:"","min-width":"160",disabled:!e.courseId},on:{click:e.toggleBtn}},[e._v("CONFIRM DETAILS")])],1),t("v-col",{staticClass:"d-flex justify-center justify-md-start",attrs:{cols:"12",xs:"12",md:"6"}},[t("v-btn",{staticClass:"yellow-button",attrs:{color:"buttons",rounded:"",large:"",dark:"","min-width":"160"},on:{click:e.goToUserCourse}},[e._v("EDIT DETAILS")])],1),t("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[t("v-card",{staticClass:"secondaryGray",attrs:{flat:"",dark:""}},[t("v-card-title",[e._v("Requirements to the video")]),t("v-card-text",[e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, doloremque. Vel, aliquid illo, adipisci magnam ratione explicabo voluptates, aperiam voluptate inventore ea aspernatur veniam fugit animi et nihil obcaecati quibusdam!")])],1)],1),t("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[t("p",[e._v("Upload video for moderation")]),t("v-expansion-panels",{attrs:{flat:"",disabled:!e.isActive}},e._l(e.uploadFiles,(function(i,l){return t("v-expansion-panel",{key:l,staticClass:"d-flex flex-column align-center align-sm-stretch justify-sm-center "},[t("v-expansion-panel-header",{staticClass:"btn-open-video mb-4",class:{"button-unactive":!e.isActive},attrs:{width:"100%"}},[e._v(" + add video "+e._s(l+1)+" ")]),t("v-expansion-panel-content",{staticClass:"mt-8 "},[t("v-form",{ref:"form"+l,refInFor:!0},[t("div",{staticClass:"d-xl-flex"},[t("v-text-field",{staticClass:"mr-xl-4",attrs:{label:"name of video",outlined:"",dark:""},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"item.name"}}),t("v-file-input",{staticClass:"ml-xl-4",attrs:{label:"video file","show-size":"","prepend-icon":"mdi-video",accept:"video/mp4",rules:[e.rules.videoRule],outlined:"",dark:""},model:{value:i.videoFile,callback:function(t){e.$set(i,"videoFile",t)},expression:"item.videoFile"}})],1),e.uploading?t("v-progress-linear",{staticClass:"my-4",attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),t("div",{staticClass:"d-xl-flex"},[t("v-textarea",{staticClass:"mr-xl-4",attrs:{label:"description",outlined:"",dark:""},model:{value:i.description,callback:function(t){e.$set(i,"description",t)},expression:"item.description"}}),t("v-file-input",{staticClass:"ml-xl-4",attrs:{label:"image file","show-size":"","prepend-icon":"mdi-camera",accept:"image/png, image/jpeg, image/bmp",rules:[e.rules.imageRule],outlined:"",dark:""},model:{value:i.imgFile,callback:function(t){e.$set(i,"imgFile",t)},expression:"item.imgFile"}})],1),t("div",{staticClass:"d-flex flex-column flex-sm-row flex-md-column flex-lg-row"},[t("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"pdf file",outlined:"",dark:""},model:{value:i.pdfFiles[0],callback:function(t){e.$set(i.pdfFiles,0,t)},expression:"item.pdfFiles[0]"}}),t("v-file-input",{staticClass:"px-sm-4 px-md-0 px-lg-4",attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"pdf file",outlined:"",dark:""},model:{value:i.pdfFiles[1],callback:function(t){e.$set(i.pdfFiles,1,t)},expression:"item.pdfFiles[1]"}}),t("v-file-input",{attrs:{"prepend-icon":"mdi-file-pdf-box",rules:[e.rules.pdfRule],label:"pdf file",outlined:"",dark:""},model:{value:i.pdfFiles[2],callback:function(t){e.$set(i.pdfFiles,2,t)},expression:"item.pdfFiles[2]"}})],1)],1)],1)],1)})),1)],1),t("v-col",{staticClass:"pa-0 my-8 d-flex justify-center",attrs:{cols:"12",xs:"12"}},[t("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"",dark:"","min-width":"160",disabled:!e.validate||e.loading},on:{click:e.sendData}},[e._v("PROCEED AND CHECKOUT")])],1)],1)],1)},a=[],s=(t("a4d3"),t("e01a"),t("cb29"),t("4de4"),t("4160"),t("caad"),t("d81d"),t("13d5"),t("45fc"),t("b0c0"),t("4fad"),t("b64b"),t("07ac"),t("2532"),t("159b"),t("3835")),n=t("5530"),r=t("2f62"),o={name:"add-course-videos",components:{},data:function(){return{isActive:!1,courseId:this.$route.params.courseid,skill:"50",uploadFiles:[{name:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null)},{name:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null)},{name:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null)},{name:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null)},{name:"",videoFile:null,description:"",imgFile:null,pdfFiles:new Array(3).fill(null)}],rules:{videoRule:function(e){return!e||e.size<1e9||"Video size should be less than 1 GB!"},imageRule:function(e){return!e||e.size<2e6||"Image size should be less than 2 MB!"},pdfRule:function(e){return!e||e.size<1e8||"Video size should be less than 100 MB!"}}}},computed:Object(n["a"])(Object(n["a"])({validate:function(){var e=this,i=this.uploadFiles.map((function(i){return e.validateFile(i)}));return this.validateFiles(i)}},Object(r["b"])("auth",["user"])),Object(r["b"])("userCourses",["currentCourseVideos","loading","uploading"])),watch:{currentCourseVideos:function(e){e&&this.$router.push({name:"user-course",params:{courseid:this.courseId}})}},methods:{validateFile:function(e){return this.validateObj(e)?"required fields are filled":this.isEmtyObj(e)?"all fields emty":"required fields are not filled"},validateFiles:function(e){return e.includes("required fields are filled")&&!e.includes("required fields are not filled")},validateObj:function(e){return e.name&&e.videoFile&&e.description},filteredData:function(e){var i=this;return e.filter((function(e){return!i.isEmtyObj(e)})).map((function(e){return i.clearEmtyFields(e)}))},isEmtyObj:function(e){var i=this,t=Object.keys(e);return!t.reduce((function(t,l){return i.isEmty(e[l])?t:t+1}),0)},clearEmtyFields:function(e){var i=this,t=Object.entries(e),l=Array.isArray(e)?[]:{};return t.forEach((function(t){var a=Object(s["a"])(t,2),n=a[0],r=a[1];if(Array.isArray(e[n])){var o=i.clearEmtyFields(e[n]);o.length&&(l[n]=o)}else r&&(l[n]=r)})),l},isEmty:function(e){var i=!e;return Array.isArray(e)&&(i=!e.some((function(e){return!!e}))),i},sendData:function(){var e=this,i=this.filteredData(this.uploadFiles);i.forEach((function(i,t){var l=new FormData;Object.entries(i).forEach((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];Array.isArray(i[a])?Object.values(i[a]).forEach((function(e){return l.append("files",e)})):i[a]instanceof File?l.append("files",n):l.append(a,n)})),e.$refs["form".concat(t)][0].validate()&&e.$store.dispatch("userCourses/CREATE_VIDEOS_COURSE",{id:e.courseId,fd:l,userId:e.user._id})}))},toggleBtn:function(){this.isActive=!this.isActive},goToUserCourse:function(){this.$router.push({name:"user-course",params:{courseid:this.courseId}})}}},d=o,u=(t("65eb"),t("0953"),t("2877")),c=t("6544"),f=t.n(c),p=t("8336"),m=t("b0af"),v=t("99d9"),b=t("62ad"),x=t("a523"),F=t("cd55"),h=t("49e2"),g=t("c865"),y=t("0393"),C=t("23a7"),k=t("4bd4"),w=t("8e36"),E=t("0fd9"),j=t("8654"),A=t("a844"),V=Object(u["a"])(d,l,a,!1,null,"717baad5",null);i["default"]=V.exports;f()(V,{VBtn:p["a"],VCard:m["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:b["a"],VContainer:x["a"],VExpansionPanel:F["a"],VExpansionPanelContent:h["a"],VExpansionPanelHeader:g["a"],VExpansionPanels:y["a"],VFileInput:C["a"],VForm:k["a"],VProgressLinear:w["a"],VRow:E["a"],VTextField:j["a"],VTextarea:A["a"]})},"3a9e":function(e,i,t){},"5f47":function(e,i,t){},"65eb":function(e,i,t){"use strict";t("3a9e")}}]);
//# sourceMappingURL=add-course-videos.75646bb1.js.map