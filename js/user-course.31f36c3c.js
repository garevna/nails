(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-course"],{"2bc5":function(e,t,r){"use strict";r("a15b");var s=r("5530"),i=(r("abd3"),r("f625")),o=r("80d2"),a=Object(o["i"])("v-breadcrumbs__divider","li"),u=r("7560"),n=r("58df");t["a"]=Object(n["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(a,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,r=[],s=0;s<this.items.length;s++){var o=this.items[s];r.push(o.text),t?e.push(this.$scopedSlots.item({item:o})):e.push(this.$createElement(i["a"],{key:r.join("."),props:o},[o.text])),s<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"3eb5":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[r("v-breadcrumbs-item",{attrs:{disabled:s.disabled}},[r("router-link",{class:{"disabled-link-dark":s.disabled},attrs:{to:s.href}},[e._v(" "+e._s(s.text.toUpperCase()))])],1)]}}])}),e.ready&&!e.showForm?r("CourseCardDetail",{attrs:{category:e.course.category,days:e.course.days,nameOfCourse:e.course.nameOfCourse,subtitle:e.course.subtitle,price:e.course.price,author:e.course.author,instructor:e.course.instructor,infoBonus:e.course.infoBonus,courseSuitable:e.course.thisCourseIsSuitableFor,description:e.course.description,dateOfCourses:e.course.dateOfCourses,url:e.checkUrl(e.course),type:e.typeCourse,coverImageSrc:e.coverImageSrc,btnTitle:"BUY THIS COURSE",btnCallBack:null}}):e._e(),e.showForm?r("EditCourseForm",{attrs:{editCourseById:e.editCourseById,typeCourse:e.typeCourse,course:e.course,back:e.backForm,coverImageSrc:e.coverImageSrc}}):e._e(),e.showForm?e._e():r("v-btn",{on:{click:function(t){e.showForm=!0}}},[e._v("Edit")]),e.showForm?e._e():r("v-btn",{on:{click:e.goToVideos}},[e._v("Videos")])],1)},i=[],o=(r("b0c0"),r("9911"),r("5530")),a=r("2f62"),u=(r("71b9"),r("b687"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",xs:"12",md:"7"}},[r("v-btn",{on:{click:e.back}},[e._v("back")]),r("v-form",{ref:"form"},[r("v-row",[r("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[r("v-text-field",{attrs:{rules:[e.rules.required],label:"Category",outlined:"",dark:""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Name of Course",outlined:"",dark:"",counter:27,maxlength:"27"},model:{value:e.nameOfCourse,callback:function(t){e.nameOfCourse=t},expression:"nameOfCourse"}}),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Subtitle",outlined:"",dark:"",counter:32,maxlength:"32"},model:{value:e.subtitle,callback:function(t){e.subtitle=t},expression:"subtitle"}}),"offline"===e.typeCourse?r("div",[e._l(e.dateOfCourses,(function(t,s){return r("div",{key:s,staticClass:"d-flex input-container"},[r("v-text-field",{attrs:{label:e.labelDateOfCourse,rules:[e.rules.required],outlined:"",dark:""},model:{value:e.dateOfCourses[s],callback:function(t){e.$set(e.dateOfCourses,s,t)},expression:"dateOfCourses[i]"}}),0!==s?r("v-btn",{staticClass:"remove",on:{click:function(t){return e.removeField(s,"")}}},[r("v-icon",[e._v("mdi-delete")])],1):e._e()],1)})),r("div",{staticClass:"d-flex justify-end mb-8"},[r("v-btn",{on:{click:function(t){return e.addField("")}}},[r("v-icon",[e._v("mdi-plus")])],1)],1),r("v-text-field",{attrs:{label:"available spots",rules:[e.rules.required,e.rules.onlyDigits],outlined:"",dark:""},model:{value:e.availableSpots,callback:function(t){e.availableSpots=t},expression:"availableSpots"}})],2):e._e(),r("v-text-field",{attrs:{rules:[e.rules.required,e.rules.onlyDigits],label:"Access (days)",outlined:"",dark:""},model:{value:e.days,callback:function(t){e.days=t},expression:"days"}}),r("v-text-field",{attrs:{rules:[e.rules.required,e.rules.onlyDigits],label:"price",outlined:"",dark:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),r("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[r("v-text-field",{attrs:{rules:[e.rules.required],label:"Author",outlined:"",dark:""},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}}),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Instructor",outlined:"",dark:""},model:{value:e.instructor,callback:function(t){e.instructor=t},expression:"instructor"}}),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Info for bonus",outlined:"",dark:""},model:{value:e.infoBonus,callback:function(t){e.infoBonus=t},expression:"infoBonus"}}),e._l(e.courseSuitable,(function(t,s){return r("div",{key:s,staticClass:"d-flex input-container"},[r("v-text-field",{attrs:{label:e.labelForSuitable,rules:[e.rules.required],outlined:"",dark:""},model:{value:e.courseSuitable[s],callback:function(t){e.$set(e.courseSuitable,s,t)},expression:"courseSuitable[i]"}}),0!==s?r("v-btn",{staticClass:"remove",on:{click:function(t){return e.removeField(s,"suitable")}}},[r("v-icon",[e._v("mdi-delete")])],1):e._e()],1)})),r("div",{staticClass:"d-flex justify-end mb-8"},[r("v-btn",{on:{click:function(t){return e.addField("suitable")}}},[r("v-icon",[e._v("mdi-plus")])],1)],1),r("v-textarea",{attrs:{rules:[e.rules.required],label:"Description",outlined:"",dark:"","no-resize":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-file-input",{attrs:{color:"deep-purple accent-4",label:"Cover picture",placeholder:"Select your file","prepend-icon":"mdi-paperclip",outlined:"",dark:"","show-size":1e3},on:{change:e.Preview_image},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),r("v-btn",{staticClass:"yellow-button mt-4 mr-8",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:e.checkForm}},[e._v("submit")]),r("v-btn",{staticClass:"yellow-button mt-4",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:e.cancelHandler}},[e._v("cancel")])],2)],1)],1)],1),r("v-col",{staticClass:"d-flex flex-column justify-space-between align-center",attrs:{cols:"12",xs:"12",md:"5"}},[r("CourseCard",{attrs:{accessDays:e.days,url:e.url,name:e.nameOfCourse,subtitle:e.subtitle,price:e.price,type:e.typeCourse,coverImageSrc:e.coverImageSrc}})],1),r("CourseCardDetail",{attrs:{category:e.category,days:e.days,nameOfCourse:e.nameOfCourse,subtitle:e.subtitle,price:e.price,author:e.author,instructor:e.instructor,infoBonus:e.infoBonus,courseSuitable:e.courseSuitable,description:e.description,dateOfCourses:e.dateOfCourses,url:e.url,type:e.typeCourse,coverImageSrc:e.coverImageSrc,btnTitle:"online"===e.typeCourse?"APPLY":"BY THIS COURSE"}})],1)],1)}),n=[],c=(r("a4d3"),r("e01a"),r("4160"),r("a434"),r("a9e3"),r("4fad"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("2b3d"),r("3835")),l=r("a523"),d=r("0fd9"),f=r("62ad"),b=r("8654"),h=r("4bd4"),m=r("8336"),p=r("a844"),v=r("23a7"),C=r("132d"),y=(r("1715"),r("3156"),{components:{VContainer:l["a"],VRow:d["a"],VCol:f["a"],VTextField:b["a"],VForm:h["a"],VBtn:m["a"],VTextarea:p["a"],VFileInput:v["a"],VIcon:C["a"]},name:"course-form",props:["typeCourse","course","back","coverImageSrc","editCourseById"],data:function(){return{category:"",nameOfCourse:"",subtitle:"",days:"",price:"",author:"",instructor:"",infoBonus:"",labelForSuitable:"This course is suitable for",description:"",file:[],dateOfCourses:[""],availableSpots:"",courseSuitable:[""],labelDateOfCourse:"date of the course",url:null,type:"",copyDateOfCourses:null,rules:{required:function(e){return!!e||"input is required"},minLengthName:function(e){return e.length<=15||"the maximum number of characters entered"},onlyDigits:function(e){return!/\D/g.test(e)||"input should consist only of digits"}}}},watch:{},methods:{Preview_image:function(){this.url=URL.createObjectURL(this.file)},checkForm:function(){this.$refs.form.validate()&&this.submitHandler()},addField:function(e){return e?this.courseSuitable.push(""):this.dateOfCourses.push("")},removeField:function(e,t){return t?this.courseSuitable.splice(e,1):this.dateOfCourses.splice(e,1)},cancelHandler:function(){this.back()},submitHandler:function(){var e={category:this.category,nameOfCourse:this.nameOfCourse,subtitle:this.subtitle,accessDays:Number(this.days),price:Number(this.price),author:this.author,instructor:this.instructor,infoForBonus:this.infoBonus,description:this.description,file:this.file},t=new FormData;Object.entries(e).forEach((function(e){var r=Object(c["a"])(e,2),s=r[0],i=r[1];return t.append(s,i)})),this.courseSuitable.forEach((function(e){return t.append("thisCourseIsSuitableFor[]",e)})),this.editCourseById(t)}},mounted:function(){this.category=this.course.category,this.nameOfCourse=this.course.nameOfCourse,this.subtitle=this.course.subtitle,this.days=this.course.accessDays,this.price=this.course.price,this.author=this.course.author,this.instructor=this.course.instructor,this.infoBonus=this.course.infoForBonus,this.description=this.course.description,this.url=this.course.photo[0].link,this.courseSuitable=this.course.thisCourseIsSuitableFor},created:function(){window.onbeforeunload=function(){return"Are you sure you want to leave?"}},beforeDestroy:function(){window.onbeforeunload=function(){return null}}}),k=y,g=r("2877"),x=r("6544"),O=r.n(x),S=Object(g["a"])(k,u,n,!1,null,"11adcb6a",null),I=S.exports;O()(S,{VBtn:m["a"],VCol:f["a"],VContainer:l["a"],VFileInput:v["a"],VForm:h["a"],VIcon:C["a"],VRow:d["a"],VTextField:b["a"],VTextarea:p["a"]});var _={components:{EditCourseForm:I},data:function(){return{courseId:this.$route.params.courseid,course:null,ready:!1,typeCourse:"online",showForm:!1,coverImageSrc:r("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!0,href:"#"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(a["b"])("userCourses",["userCourses","currentCourse","currentCourseId"])),Object(a["b"])("auth",["user"])),watch:{user:function(e){this.fillingInTheFields()},course:function(e){this.items[2].text="".concat(e.nameOfCourse)},currentCourse:function(e){e&&(this.course=e,this.showForm=!1,this.ready=!0)}},methods:{checkUrl:function(e){var t;return e.photo&&Array.isArray(e.photo)&&e.photo.length&&(t=e.photo[0].link),t||(t=this.coverImageSrc),t},fillingInTheFields:function(){this.user&&(this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses"))},editCourseById:function(e){this.$store.dispatch("userCourses/PUT_USER_COURSE_ID",{data:e,id:this.courseId})},backForm:function(){this.showForm=!1},goToVideos:function(){"user-videos"!==this.$route.name&&this.$router.push({name:"user-videos"})}},created:function(){this.fillingInTheFields(),this.currentCourseId!==this.courseId?this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId):(this.items[2].text="".concat(this.currentCourse.nameOfCourse),this.course=this.currentCourse,this.ready=!0)}},F=_,w=(r("c72b"),r("2bc5")),B=r("f625"),V=Object(g["a"])(F,s,i,!1,null,"f58023ec",null);t["default"]=V.exports;O()(V,{VBreadcrumbs:w["a"],VBreadcrumbsItem:B["a"],VBtn:m["a"]})},abd3:function(e,t,r){},c72b:function(e,t,r){"use strict";r("f190")},f190:function(e,t,r){},f625:function(e,t,r){"use strict";var s=r("5530"),i=r("ade3"),o=r("1c87"),a=r("58df");t["a"]=Object(a["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),r=t.tag,i=t.data;return e("li",[e(r,Object(s["a"])(Object(s["a"])({},i),{},{attrs:Object(s["a"])(Object(s["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})}}]);
//# sourceMappingURL=user-course.31f36c3c.js.map