(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-video"],{"2bc5":function(e,t,s){"use strict";s("a15b");var i=s("5530"),r=(s("abd3"),s("f625")),a=s("80d2"),o=Object(a["i"])("v-breadcrumbs__divider","li"),n=s("7560"),d=s("58df");t["a"]=Object(d["a"])(n["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(o,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,s=[],i=0;i<this.items.length;i++){var a=this.items[i];s.push(a.text),t?e.push(this.$scopedSlots.item({item:a})):e.push(this.$createElement(r["a"],{key:s.join("."),props:a},[a.text])),i<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"2fe6":function(e,t,s){},"3a1f":function(e,t,s){"use strict";s("2fe6")},"5fe9":function(e,t,s){e.exports=s.p+"img/pdf.3fa92281.svg"},7388:function(e,t,s){"use strict";s("a0d0")},"9af2":function(e,t,s){"use strict";s("ec5b")},a0d0:function(e,t,s){},abd3:function(e,t,s){},ec5b:function(e,t,s){},f625:function(e,t,s){"use strict";var i=s("5530"),r=s("ade3"),a=s("1c87"),o=s("58df");t["a"]=Object(o["a"])(a["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),s=t.tag,r=t.data;return e("li",[e(s,Object(i["a"])(Object(i["a"])({},r),{},{attrs:Object(i["a"])(Object(i["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}})},fc48:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("v-breadcrumbs-item",{attrs:{disabled:i.disabled}},[s("router-link",{class:{"disabled-link":i.disabled},attrs:{to:i.href}},[e._v(" "+e._s(i.text.toUpperCase()))])],1)]}}])})],1),s("v-col",{attrs:{cols:"12",xs:"12"}},[e.loading?s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):e._e()],1),!e.loading&&e.video?s("v-col",{staticClass:"player-container",attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("vue-core-video-player",{attrs:{src:e.video.link}})],1):e._e(),!e.loading&&e.video?s("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("v-card-title",[e._v(e._s(e.video.description))])],1):e._e(),!e.loading&&e.video?s("v-col",{attrs:{cols:"12",xs:"12","offset-md":"2",md:"8"}},[s("v-img",{attrs:{src:e.checkUrl(e.video),contain:""}}),s("v-card",{staticClass:"d-flex justify-center mt-16",attrs:{flat:""}},[s("VideoPdfs",{attrs:{currentCourseId:e.currentCourseId,videoId:e.videoId,user:e.user}})],1)],1):e._e(),e.showForm?e._e():s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-btn",{staticClass:"yellow-button",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:function(t){e.showForm=!0}}},[e._v(" Edit ")])],1),e.showForm?s("v-col",{attrs:{cols:"12",xs:"12"}},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"name of video",outlined:""},model:{value:e.nameOfVideo,callback:function(t){e.nameOfVideo=t},expression:"nameOfVideo"}}),s("v-textarea",{attrs:{label:"description",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-file-input",{attrs:{label:"add cover image ",outlined:""},model:{value:e.imgFile,callback:function(t){e.imgFile=t},expression:"imgFile"}})],1),s("div",{staticClass:"d-flex flex-column align-center flex-sm-row justify-sm-center"},[s("v-btn",{staticClass:"yellow-button  my-8 my-sm-0 mr-sm-4",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.closeForm}},[e._v("Cansel")]),s("v-btn",{staticClass:"yellow-button ",attrs:{rounded:"",color:"buttons",large:"","min-width":"160"},on:{click:e.sendData}},[e._v("Submit")])],1)],1):e._e()],1)],1)},r=[],a=(s("a4d3"),s("e01a"),s("4160"),s("b0c0"),s("4fad"),s("07ac"),s("9911"),s("159b"),s("3835")),o=s("5530"),n=s("2f62"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"d-flex"},[e._l(e.pdfs,(function(t){return i("div",{key:t._id,staticClass:"pdf-container pt-12"},[i("a",{staticClass:"pdf-link",attrs:{href:t.link,target:"_blank"}},[i("v-img",{attrs:{src:s("5fe9"),width:"50px"}})],1),i("v-icon",{staticClass:"remove-pdf",attrs:{large:""},on:{click:function(s){return e.removePdf(t._id)}}},[e._v("mdi-close-circle-outline")])],1)})),!e.pdfs||e.pdfs.length<3?i("div",{staticClass:"plus-container"},[i("v-file-input",{staticClass:"add-pdf pa-0 ma-0",attrs:{"hide-input":"","prepend-icon":"mdi-plus-circle-outline"},on:{change:e.addPdf},model:{value:e.pdfFile,callback:function(t){e.pdfFile=t},expression:"pdfFile"}})],1):e._e()],2)])},c=[],u={props:["currentCourseId","videoId","user"],data:function(){return{pdfFile:null}},computed:Object(o["a"])(Object(o["a"])({},Object(n["b"])("userCourses",["currentVideo"])),{},{pdfs:function(){return this.currentVideo.pdfs}}),methods:{removePdf:function(e){e&&this.$store.dispatch("userCourses/REMOVE_PDF",{id:e,videoId:this.videoId,userId:this.user._id,currentCourseId:this.currentCourseId})},addPdf:function(){if(this.pdfFile){var e=new FormData;e.append("file",this.pdfFile),this.$store.dispatch("userCourses/ADD_PDF",{fd:e,videoId:this.videoId,userId:this.user._id,currentCourseId:this.currentCourseId})}}}},l=u,f=(s("9af2"),s("7388"),s("2877")),m=s("6544"),h=s.n(m),v=s("23a7"),p=s("132d"),b=s("adda"),g=Object(f["a"])(l,d,c,!1,null,"612f53b6",null),C=g.exports;h()(g,{VFileInput:v["a"],VIcon:p["a"],VImg:b["a"]});var I={components:{VideoPdfs:C},data:function(){return{courseId:this.$route.params.courseid,videoId:this.$route.params.videoid,video:null,course:null,loading:!0,volume:0,showForm:!1,coverImageSrc:s("7e1a"),items:[{text:"",disabled:!1,href:"/user-cabinet"},{text:"",disabled:!1,href:"/user-cabinet/courses"},{text:"",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid)},{text:"videos",disabled:!1,href:"/user-cabinet/courses/".concat(this.$route.params.courseid,"/videos")},{text:"",disabled:!0,href:"#"}],nameOfVideo:"",description:"",imgFile:null}},computed:Object(o["a"])(Object(o["a"])({},Object(n["b"])("userCourses",["currentCourse","currentCourseId","currentVideoId","currentVideo"])),Object(n["b"])("auth",["user"])),watch:{user:function(e){this.fillingInTheFields()},currentVideo:function(e){e&&(this.video=e,this.nameOfVideo=e.name,this.description=e.description)},video:function(e){e&&(this.items[4].text="".concat(e.name),this.loading=!1,this.ready=!0)},currentCourse:function(e){e&&(this.course=e)},course:function(e){e&&(this.items[2].text="".concat(e.nameOfCourse))}},methods:{checkUrl:function(e){var t,s;return(null===(t=e.coverImg)||void 0===t?void 0:t.link)&&(s=e.coverImg.link),s||(s=this.coverImageSrc),s},fillingInTheFields:function(){this.items[0].text="".concat(this.user.firstName," cabinet"),this.items[1].text="".concat(this.user.firstName," courses")},closeForm:function(){this.showForm=!1},sendData:function(){var e={name:this.nameOfVideo,videoFile:this.videoFile,description:this.description,imgFile:this.imgFile,pdfFiles:this.pdfFiles},t=new FormData;Object.entries(e).forEach((function(s){var i=Object(a["a"])(s,2),r=i[0],o=i[1];Array.isArray(o)?Object.values(e[r]).forEach((function(e){e&&t.append("files",e)})):o instanceof File?t.append("file",o):o&&t.append(r,o)})),this.$store.dispatch("userCourses/PUT_CURRENT_VIDEO",{fd:t,id:this.videoId}),this.showForm=!1}},created:function(){this.user&&this.fillingInTheFields(),this.currentCourse&&this.currentVideo?(this.course=this.currentCourse,this.video=this.currentVideo,this.items[2].text=this.course.nameOfCourse,this.items[4].text=this.video.name,this.loading=!1,this.ready=!0):(this.$store.dispatch("userCourses/GET_USER_COURSE_ID",this.courseId),this.$store.dispatch("userCourses/GET_VIDEO_COURSE_ID",this.videoId))}},_=I,x=(s("3a1f"),s("2bc5")),F=s("f625"),O=s("8336"),V=s("b0af"),j=s("99d9"),k=s("62ad"),w=s("a523"),y=s("4bd4"),$=s("490a"),E=s("0fd9"),D=s("8654"),S=s("a844"),P=Object(f["a"])(_,i,r,!1,null,"9d26b9f0",null);t["default"]=P.exports;h()(P,{VBreadcrumbs:x["a"],VBreadcrumbsItem:F["a"],VBtn:O["a"],VCard:V["a"],VCardTitle:j["c"],VCol:k["a"],VContainer:w["a"],VFileInput:v["a"],VForm:y["a"],VImg:b["a"],VProgressCircular:$["a"],VRow:E["a"],VTextField:D["a"],VTextarea:S["a"]})}}]);
//# sourceMappingURL=user-video.0c024fb1.js.map