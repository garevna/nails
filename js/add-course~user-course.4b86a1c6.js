(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["add-course~user-course"],{"30d8":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-form",{ref:"form"},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},e._l(e.schema.sideLeft,(function(t,a){return i("div",{key:a},["text"===t.type?i("TextInput",{attrs:{value:e.data[a],label:t.label,required:t.required,limit:t.limit},on:{"update:value":function(t){return e.$set(e.data,a,t)}}}):e._e(),"number"===t.type?i("NumberInput",{attrs:{value:e.data[a],label:t.label,limit:t.limit,required:t.required},on:{"update:value":function(t){return e.$set(e.data,a,t)}}}):e._e()],1)})),0),i("v-col",{attrs:{cols:"12",xs:"12",md:"6"}},[e._l(e.schema.sideRight,(function(t,a){return i("div",{key:a},["text"===t.type?i("TextInput",{attrs:{value:e.data[a],label:t.label,required:t.required,limit:t.limit},on:{"update:value":function(t){return e.$set(e.data,a,t)}}}):e._e(),"suitable"===t.type?i("SuitableInputs",{attrs:{value:e.data[a],label:t.label,required:t.required,limit:t.limit},on:{"update:value":function(t){return e.$set(e.data,a,t)}}}):e._e(),"textarea"===t.type?i("TextAreaInput",{attrs:{value:e.data[a],label:t.label,required:t.required,limit:t.limit},on:{"update:value":function(t){return e.$set(e.data,a,t)}}}):e._e(),"file"===t.type?i("div",[Array.isArray(e.data[a])?i("v-btn",{attrs:{color:"buttons",rounded:"",small:"",outlined:"",primary:""},on:{click:function(t){e.data[a]=null}}},[e._v(" change file ")]):i("FileInput",{attrs:{value:e.data[a],label:t.label,required:t.required,icon:t.icon,accept:t.accept,size:t.size},on:{"update:value":function(t){return e.$set(e.data,a,t)}}})],1):e._e()],1)})),e.course?e._e():i("v-checkbox",{attrs:{rules:[e.rules.required],label:"Agree to privacy policy",dark:""},model:{value:e.checkbox1,callback:function(t){e.checkbox1=t},expression:"checkbox1"}}),e.course?e._e():i("v-checkbox",{attrs:{rules:[e.rules.required],label:"Agree to portal terms of use",dark:""},model:{value:e.checkbox2,callback:function(t){e.checkbox2=t},expression:"checkbox2"}})],2),i("v-col",{attrs:{cols:"12",xs:"12"}},[i("div",{staticClass:"d-flex justify-center"},[e.course?i("v-btn",{staticClass:"yellow-button mt-4 mr-8",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:function(t){return e.$emit("back")}}},[e._v("cancel")]):e._e(),i("v-btn",{staticClass:"yellow-button mt-4",attrs:{color:"buttons",rounded:"",outlined:"",large:"",dark:"","min-width":"90"},on:{click:e.checkForm}},[e._v("submit")])],1)])],1)],1)},n=[],r=(i("a4d3"),i("e01a"),i("4de4"),i("4160"),i("a15b"),i("13d5"),i("4fad"),i("b64b"),i("ac1f"),i("1276"),i("159b"),i("3835")),u=i("15fd"),l=(i("96cf"),i("1da1")),s=i("5530"),o=i("ade3"),c=i("2f62"),d=i("9284"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-text-field",{ref:"number",attrs:{label:e.label,disabled:e.disabled,rules:[e.rules.required,e.rules.onlyDigits,e.rules.limit,e.rules.noRepeat],outlined:e.outlined},model:{value:e.localValue,callback:function(t){e.localValue="string"===typeof t?t.trim():t},expression:"localValue"}})},h=[],f=(i("a9e3"),{name:"NumberInput",props:{value:{type:String,required:!0},label:{type:String,default:""},limit:{type:Number,default:10},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},noRepeat:{type:String,default:""},outlined:{type:Boolean,default:!0}},data:function(){var e=this;return{rules:{required:function(t){var i=e.required&&!!t,a=!e.required,n=!(i&&a)&&(i||a);return n||"Input is required"},onlyDigits:function(e){return!/\D/g.test(e)||"input should consist only of digits"},limit:function(t){return t.length<=e.limit||"Max ".concat(e.limit," characters")},noRepeat:function(t){return!e.noRepeat||t.split(" ").join("")!==e.noRepeat.split(" ").join("")||"Digits must not match"}}}},computed:{localValue:{get:function(){return this.value},set:function(e){this.$emit("update:value",e)}}},watch:{noRepeat:function(){this.$refs.number.validate()}},methods:{showInput:function(){this.$emit("update:disabled",!1)}}}),m=f,b=i("2877"),v=i("6544"),y=i.n(v),g=i("8654"),x=Object(b["a"])(m,p,h,!1,null,null,null),k=x.exports;y()(x,{VTextField:g["a"]});var I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.localValue,(function(t,a){return i("div",{key:a,staticClass:"d-flex input-container"},[i("TextInput",{attrs:{label:e.label,value:e.localValue[a],required:e.required,limit:e.limit,outlined:e.outlined},on:{"update:value":function(t){return e.$set(e.localValue,a,t)}}}),e.localValue.length>1?i("v-btn",{staticClass:"remove",on:{click:function(t){return e.removeField(a)}}},[i("v-icon",[e._v("mdi-delete")])],1):e._e()],1)})),e.localValue.length<5?i("div",{staticClass:"d-flex justify-end mb-8"},[i("v-btn",{on:{click:e.addField}},[i("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],2)},V=[],q=(i("a434"),{name:"SuitableInputs",props:{value:{type:Array,required:!0},label:{type:String,default:""},limit:{type:Number,required:!0},required:{type:Boolean,required:!0},outlined:{type:Boolean,default:!0}},components:{TextInput:d["a"]},data:function(){return{}},computed:{localValue:{get:function(){return this.value},set:function(e){this.$emit("update:value",e)}}},watch:{},methods:{addField:function(){this.localValue.push("")},removeField:function(e){this.localValue.splice(e,1)}}}),C=q,$=i("8336"),_=i("132d"),j=Object(b["a"])(C,I,V,!1,null,null,null),S=j.exports;y()(j,{VBtn:$["a"],VIcon:_["a"]});var w=i("9d48"),A=i("37e9"),F=i("c5a7").default,O={name:"AddCourseForm",props:{course:{type:Object,default:void 0}},components:{TextInput:d["a"],NumberInput:k,SuitableInputs:S,TextAreaInput:w["a"],FileInput:A["a"]},data:function(){return{schema:F,data:Object.keys(Object.assign({},F.sideLeft,F.sideRight)).reduce((function(e,t){var i,a,n,r,u=Object(o["a"])({},t,"");return"suitable"!==(null===(i=F.sideLeft[t])||void 0===i?void 0:i.type)&&"suitable"!==(null===(a=F.sideRight[t])||void 0===a?void 0:a.type)||(u[t]=[""]),"file"!==(null===(n=F.sideLeft[t])||void 0===n?void 0:n.type)&&"file"!==(null===(r=F.sideRight[t])||void 0===r?void 0:r.type)||(u[t]=null),Object.assign(e,u)}),{}),checkbox1:"",checkbox2:"",rules:{required:function(e){return!!e||"input is required"}}}},computed:Object(s["a"])({},Object(c["e"])("auth",["user"])),watch:{data:{deep:!0,handler:function(){this.course&&this.$emit("update:course",this.data)}}},methods:{checkForm:function(){this.$refs.form.validate()&&this.submit()},fillingForm:function(){var e=this;this.course&&Object.keys(this.data).forEach((function(t){e.data[t]=e.course[t]}))},submit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,a,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.course?(Array.isArray(e.data.photo)&&delete e.data.photo,e.$emit("submit",e.data)):(e.data.description=e.data.description.split(" ").filter((function(e){return e})).join(" "),e.data.idUser=e.user._id,e.data.isPublished=!1,i=e.data,a=i.thisCourseIsSuitableFor,n=Object(u["a"])(i,["thisCourseIsSuitableFor"]),l=new FormData,Object.entries(n).forEach((function(e){var t=Object(r["a"])(e,2),i=t[0],a=t[1];a instanceof File?l.append("file",a):l.append(i,a)})),a.forEach((function(e){l.append("thisCourseIsSuitableFor[]",e)})),e.$emit("submit",l));case 1:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.fillingForm()}},R=O,B=i("ac7c"),D=i("62ad"),T=i("4bd4"),E=i("0fd9"),L=Object(b["a"])(R,a,n,!1,null,null,null);t["a"]=L.exports;y()(L,{VBtn:$["a"],VCheckbox:B["a"],VCol:D["a"],VForm:T["a"],VRow:E["a"]})},5311:function(e,t,i){"use strict";var a=i("5607"),n=i("2b0e");t["a"]=n["a"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"6ca7":function(e,t,i){},8547:function(e,t,i){"use strict";var a=i("2b0e"),n=i("80d2");t["a"]=a["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:n["j"]}}})},ac7c:function(e,t,i){"use strict";i("d3b7"),i("25f0");var a=i("5530"),n=(i("6ca7"),i("ec29"),i("9d26")),r=i("c37a"),u=i("fe09");t["a"]=u["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},c5a7:function(e,t,i){"use strict";i.r(t),t["default"]={sideLeft:{businessName:{label:"Business name",type:"text",required:!0},category:{label:"Category",type:"text",required:!0},nameOfCourse:{label:"Name of Course",type:"text",limit:60,required:!0},subtitle:{label:"Subtitle",type:"text",limit:60,required:!0},accessDays:{label:"Access (days)",type:"number",limit:3,required:!0},price:{label:"Price",type:"number",limit:5,required:!0},author:{label:"Author",type:"text",required:!0},instructor:{label:"Instructor",type:"text",required:!0},infoForBonus:{label:"Info for bonus",type:"text",required:!0,limit:250}},sideRight:{thisCourseIsSuitableFor:{label:"This course is suitable for",type:"suitable",required:!0,limit:100},description:{label:"Description",type:"textarea",limit:2e3,required:!0},photo:{label:"Cover picture",type:"file",icon:"mdi-camera",accept:"image/png, image/jpeg, image/bmp",size:1e4,required:!0}}}},ec29:function(e,t,i){},fe09:function(e,t,i){"use strict";i.d(t,"b",(function(){return l}));i("4de4"),i("45fc"),i("d3b7"),i("25f0");var a=i("c37a"),n=i("5311"),r=i("8547"),u=i("58df");function l(e){e.preventDefault()}t["a"]=Object(u["a"])(a["a"],n["a"],r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return e.valueComparator(i,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=a["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:l},e):e},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:l},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var a=i.length;i=i.filter((function(i){return!e.valueComparator(i,t)})),i.length===a&&i.push(t)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(i,t)?null:t:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}})}}]);
//# sourceMappingURL=add-course~user-course.4b86a1c6.js.map